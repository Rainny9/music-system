æ¯•ä¸šè®¾è®¡ï¼ˆè®ºæ–‡ï¼‰

è¯¾é¢˜åç§°ï¼šåŸºäºFlask+Vueçš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿ

ç³»    åˆ«ï¼š    ä¿¡æ¯å·¥ç¨‹ç³»
ä¸“    ä¸šï¼šè½¯ä»¶æŠ€æœ¯
å¹´    çº§ï¼šå¤§ä¸‰
å§“    åï¼š[å­¦ç”Ÿå§“å]
å­¦    å·ï¼š[å­¦å·]
æŒ‡å¯¼æ•™å¸ˆï¼š[æŒ‡å¯¼æ•™å¸ˆ]


æ‘˜ è¦

ã€æ‘˜è¦ã€‘éšç€äº’è”ç½‘æŠ€æœ¯çš„å¿«é€Ÿå‘å±•å’Œæ•°å­—éŸ³ä¹äº§ä¸šçš„è“¬å‹ƒå…´èµ·ï¼Œäººä»¬å¯¹éŸ³ä¹çš„è·å–å’Œç®¡ç†éœ€æ±‚æ—¥ç›Šå¢é•¿ã€‚ä¼ ç»Ÿçš„éŸ³ä¹ç®¡ç†æ–¹å¼å·²ç»æ— æ³•æ»¡è¶³ç”¨æˆ·å¯¹éŸ³ä¹æ£€ç´¢ã€æ’­æ”¾ã€æ”¶è—ç­‰å¤šæ ·åŒ–éœ€æ±‚ã€‚æœ¬æ–‡è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŸºäºFlask+Vueçš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¾¿æ·ã€é«˜æ•ˆçš„éŸ³ä¹æ£€ç´¢å’Œç®¡ç†æœåŠ¡ã€‚

æœ¬ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„B/Sæ¶æ„ï¼Œåç«¯ä½¿ç”¨Python Flaskæ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œå‰ç«¯é‡‡ç”¨Vue.jsæ¡†æ¶æ„å»ºç”¨æˆ·ç•Œé¢ã€‚ç³»ç»Ÿå®ç°äº†ç”¨æˆ·æ³¨å†Œç™»å½•ã€éŸ³ä¹æ£€ç´¢ã€æ­Œæ›²æ’­æ”¾ã€æ”¶è—ç®¡ç†ã€æ­Œå•ç®¡ç†ã€æ’­æ”¾å†å²è®°å½•ã€AIæ™ºèƒ½æ¨èç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚åŒæ—¶ï¼Œç³»ç»Ÿè¿˜æä¾›äº†ç®¡ç†å‘˜åå°ï¼Œæ”¯æŒæ­Œæ›²ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€å…¬å‘Šç®¡ç†ç­‰åŠŸèƒ½ã€‚

åœ¨æŠ€æœ¯å®ç°ä¸Šï¼Œåç«¯é‡‡ç”¨Flaskæ¡†æ¶ç»“åˆSQLAlchemy ORMè¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œä½¿ç”¨MySQLä½œä¸ºæ•°æ®å­˜å‚¨ï¼›å‰ç«¯é‡‡ç”¨Vue 3æ¡†æ¶ï¼Œé…åˆElement Plus UIç»„ä»¶åº“å’ŒPiniaçŠ¶æ€ç®¡ç†ï¼Œå®ç°äº†å“åº”å¼çš„ç”¨æˆ·ç•Œé¢ã€‚ç³»ç»Ÿè¿˜é›†æˆäº†AIæ™ºèƒ½æ¨èåŠŸèƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„æ’­æ”¾å†å²å’Œæ”¶è—è®°å½•è¿›è¡Œä¸ªæ€§åŒ–éŸ³ä¹æ¨èã€‚

ç»è¿‡æµ‹è¯•éªŒè¯ï¼Œæœ¬ç³»ç»Ÿè¿è¡Œç¨³å®šï¼Œç•Œé¢ç¾è§‚ï¼Œæ“ä½œä¾¿æ·ï¼Œèƒ½å¤Ÿæ»¡è¶³ç”¨æˆ·å¯¹éŸ³ä¹æ£€ç´¢å’Œç®¡ç†çš„åŸºæœ¬éœ€æ±‚ï¼Œå…·æœ‰ä¸€å®šçš„å®ç”¨ä»·å€¼å’Œæ¨å¹¿æ„ä¹‰ã€‚

ã€å…³é”®è¯ã€‘ Flaskï¼›Vue.jsï¼›éŸ³ä¹æ£€ç´¢ï¼›å‰åç«¯åˆ†ç¦»ï¼›MySQLï¼›AIæ¨è


ç›®å½•

ç¬¬ä¸€ç«  ç»ªè®º
    1.1 ç ”å‘èƒŒæ™¯é˜è¿°
    1.2 é¡¹ç›®å¼€å‘çš„é‡è¦æ€§
    1.3 å›½å†…å¤–ç ”ç©¶ç°çŠ¶åˆ†æ
ç¬¬äºŒç«  ç³»ç»Ÿåˆ†æ
    2.1 ç³»ç»Ÿçš„éœ€æ±‚åˆ†æ
        2.1.1 ç³»ç»ŸåŠŸèƒ½éœ€æ±‚
        2.1.2 ç³»ç»ŸåŠŸèƒ½æµç¨‹å›¾
    2.2 ç³»ç»Ÿè®¾è®¡æ ¸å¿ƒç†å¿µ
    2.3 ç³»ç»Ÿå¼€å‘æµç¨‹æ¦‚è¿°
    2.4 ç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯ä»‹ç»
        2.4.1 B/Sä¸‰å±‚æ¶æ„ä½“ç³»
        2.4.2 Flaskæ¡†æ¶ç®€è¿°
        2.4.3 Flaskæ¡†æ¶ä¼˜åŠ¿å‰–æ
        2.4.4 Vueæ¡†æ¶æ¦‚è§ˆ
        2.4.5 Vueæ¡†æ¶ä¼˜åŠ¿é˜è¿°
        2.4.6 MySQLæ•°æ®åº“æ¦‚è¿°
    2.5 ç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒå’Œå¼€å‘å¹³å°
        2.5.1 ç¡¬ä»¶è®¾å¤‡åŠæ“ä½œç³»ç»Ÿ
        2.5.2 ç³»ç»Ÿå¼€å‘å·¥å…·
        2.5.3 å¼€å‘å·¥å…·ç®€ä»‹
    2.6 ç³»ç»ŸéåŠŸèƒ½æ€§éœ€æ±‚åˆ†æ
        2.6.1 ç³»ç»Ÿå…¼å®¹æ€§éœ€æ±‚
        2.6.2 ç³»ç»Ÿå®‰å…¨æ€§
        2.6.3 æŠ€æœ¯å¯è¡Œæ€§
    2.7 æœ¬ç« å°ç»“

ç¬¬ä¸‰ç«  ç³»ç»Ÿè®¾è®¡
    3.1 ç³»ç»Ÿæµç¨‹
    3.2 ç³»ç»ŸåŠŸèƒ½æ¨¡å—çš„åˆ’åˆ†
        3.2.1 ç”¨æˆ·ç®¡ç†æ¨¡å—
        3.2.2 éŸ³ä¹æ£€ç´¢æ¨¡å—
        3.2.3 æ’­æ”¾ç®¡ç†æ¨¡å—
        3.2.4 æ”¶è—ä¸æ­Œå•æ¨¡å—
        3.2.5 ç³»ç»Ÿç®¡ç†æ¨¡å—
    3.3 æ•°æ®åº“è®¾è®¡
        3.3.1 æ•°æ®åº“éœ€æ±‚åˆ†æ
        3.3.2 æ•°æ®åº“çš„é€»è¾‘è®¾è®¡
        3.3.3 æ•°æ®è¡¨è®¾è®¡åŠERå›¾
ç¬¬å››ç«  ç³»ç»Ÿå®ç°
    4.1 ä¸»è¦ç•Œé¢å®ç°
        4.1.1 ç”¨æˆ·ç™»å½•ä¸æ³¨å†Œ
        4.1.2 é¦–é¡µ
        4.1.3 æ­Œæ›²è¯¦æƒ…é¡µ
        4.1.4 æˆ‘çš„æ”¶è—
        4.1.5 æˆ‘çš„æ­Œå•
        4.1.6 æ’­æ”¾å†å²
        4.1.7 ä¸ªäººä¸­å¿ƒ
        4.1.8 ç®¡ç†å‘˜åå°
    4.2 ä¸»è¦åŠŸèƒ½ç¨‹åºçš„å®ç°
        4.2.1 æ•°æ®åº“è¿æ¥çš„å»ºç«‹
        4.2.2 ç”¨æˆ·ç™»å½•ä¸æ³¨å†Œ
        4.2.3 éŸ³ä¹æ’­æ”¾åŠŸèƒ½
        4.2.4 AIæ™ºèƒ½æ¨èåŠŸèƒ½
ç¬¬äº”ç«  ç³»ç»Ÿçš„æµ‹è¯•
    5.1 è½¯ä»¶æµ‹è¯•çš„ç›®çš„å’ŒåŸåˆ™
    5.2 æµ‹è¯•ç”¨ä¾‹è®¾è®¡
    5.3 æµ‹è¯•ç»“æœåˆ†æ
ç»“æŸè¯­
è‡´è°¢
å‚è€ƒæ–‡çŒ®


ç¬¬ä¸€ç«  ç»ªè®º

1.1 ç ”å‘èƒŒæ™¯é˜è¿°

éšç€äº’è”ç½‘æŠ€æœ¯çš„é£é€Ÿå‘å±•å’Œæ™ºèƒ½è®¾å¤‡çš„æ™®åŠï¼Œæ•°å­—éŸ³ä¹å·²ç»æˆä¸ºäººä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚æ®ç»Ÿè®¡ï¼Œå…¨çƒæ•°å­—éŸ³ä¹å¸‚åœºè§„æ¨¡æŒç»­å¢é•¿ï¼Œç”¨æˆ·å¯¹éŸ³ä¹çš„è·å–ã€æ£€ç´¢ã€ç®¡ç†éœ€æ±‚ä¹Ÿåœ¨ä¸æ–­æå‡ã€‚ä¼ ç»Ÿçš„éŸ³ä¹ç®¡ç†æ–¹å¼ï¼Œå¦‚æœ¬åœ°æ–‡ä»¶ç®¡ç†ã€å…‰ç›˜å­˜å‚¨ç­‰ï¼Œå·²ç»æ— æ³•æ»¡è¶³ç°ä»£ç”¨æˆ·å¯¹éŸ³ä¹ä¾¿æ·è·å–å’Œæ™ºèƒ½ç®¡ç†çš„éœ€æ±‚ã€‚

éŸ³ä¹æ£€ç´¢ç³»ç»Ÿä½œä¸ºä¸€ç§æ–°å‹çš„éŸ³ä¹ç®¡ç†å·¥å…·ï¼Œèƒ½å¤Ÿå°†æµ·é‡çš„éŸ³ä¹èµ„æºè¿›è¡Œé›†ä¸­ç®¡ç†å’Œæ™ºèƒ½æ£€ç´¢ï¼Œä¸ºç”¨æˆ·æä¾›ä¾¿æ·çš„éŸ³ä¹å‘ç°ã€æ’­æ”¾ã€æ”¶è—ç­‰æœåŠ¡ã€‚é€šè¿‡å»ºç«‹å®Œå–„çš„éŸ³ä¹æ•°æ®åº“å’Œæ™ºèƒ½æ¨èç®—æ³•ï¼ŒéŸ³ä¹æ£€ç´¢ç³»ç»Ÿå¯ä»¥å¸®åŠ©ç”¨æˆ·å¿«é€Ÿæ‰¾åˆ°è‡ªå·±å–œæ¬¢çš„éŸ³ä¹ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿå‘ç°æ›´å¤šç¬¦åˆä¸ªäººå£å‘³çš„æ–°éŸ³ä¹ã€‚

æœ¬é¡¹ç›®æ—¨åœ¨è®¾è®¡å¹¶å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€ç•Œé¢ç¾è§‚ã€æ“ä½œä¾¿æ·çš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œåç«¯ä½¿ç”¨Python Flaskæ¡†æ¶ï¼Œå‰ç«¯ä½¿ç”¨Vue.jsæ¡†æ¶ï¼Œæ•°æ®åº“é‡‡ç”¨MySQLã€‚é€šè¿‡æœ¬ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡ŒéŸ³ä¹æ£€ç´¢ã€åœ¨çº¿æ’­æ”¾ã€æ”¶è—ç®¡ç†ã€æ­Œå•åˆ›å»ºç­‰æ“ä½œï¼ŒåŒæ—¶ç³»ç»Ÿè¿˜æä¾›AIæ™ºèƒ½æ¨èåŠŸèƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯æ¨èä¸ªæ€§åŒ–çš„éŸ³ä¹å†…å®¹ã€‚

1.2 é¡¹ç›®å¼€å‘çš„é‡è¦æ€§

éŸ³ä¹æ£€ç´¢ç³»ç»Ÿçš„å¼€å‘å…·æœ‰é‡è¦çš„ç°å®æ„ä¹‰å’Œåº”ç”¨ä»·å€¼ï¼š

é¦–å…ˆï¼Œä»ç”¨æˆ·éœ€æ±‚è§’åº¦æ¥çœ‹ï¼Œç°ä»£ç”¨æˆ·å¯¹éŸ³ä¹çš„éœ€æ±‚å·²ç»ä»ç®€å•çš„"å¬æ­Œ"è½¬å˜ä¸º"å‘ç°å¥½éŸ³ä¹"ã€‚ç”¨æˆ·å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°è‡ªå·±æƒ³å¬çš„æ­Œæ›²ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›ç³»ç»Ÿèƒ½å¤Ÿæ¨èç¬¦åˆè‡ªå·±å£å‘³çš„æ–°éŸ³ä¹ã€‚ä¼ ç»Ÿçš„éŸ³ä¹æ’­æ”¾å™¨æ— æ³•æ»¡è¶³è¿™äº›éœ€æ±‚ï¼Œè€ŒéŸ³ä¹æ£€ç´¢ç³»ç»Ÿé€šè¿‡å¼ºå¤§çš„æ£€ç´¢åŠŸèƒ½å’Œæ™ºèƒ½æ¨èç®—æ³•ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°è§£å†³è¿™äº›é—®é¢˜ã€‚

å…¶æ¬¡ï¼Œä»æŠ€æœ¯å‘å±•è§’åº¦æ¥çœ‹ï¼Œå‰åç«¯åˆ†ç¦»æ¶æ„å·²ç»æˆä¸ºç°ä»£Webåº”ç”¨å¼€å‘çš„ä¸»æµæ¨¡å¼ã€‚é€šè¿‡æœ¬é¡¹ç›®çš„å¼€å‘ï¼Œå¯ä»¥æ·±å…¥å­¦ä¹ å’Œå®è·µFlaskã€Vue.jsç­‰ä¸»æµæ¡†æ¶çš„ä½¿ç”¨ï¼ŒæŒæ¡å‰åç«¯åˆ†ç¦»å¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯å’Œæœ€ä½³å®è·µã€‚

å†æ¬¡ï¼Œä»å®é™…åº”ç”¨è§’åº¦æ¥çœ‹ï¼ŒéŸ³ä¹æ£€ç´¢ç³»ç»Ÿå¯ä»¥åº”ç”¨äºå¤šç§åœºæ™¯ï¼Œå¦‚ä¸ªäººéŸ³ä¹ç®¡ç†ã€éŸ³ä¹åˆ†äº«å¹³å°ã€éŸ³ä¹æ•™è‚²ç­‰ã€‚ç³»ç»Ÿçš„æ¨¡å—åŒ–è®¾è®¡ä½¿å…¶å…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ã€‚

æœ€åï¼Œä»å­¦ä¹ ç ”ç©¶è§’åº¦æ¥çœ‹ï¼Œæœ¬é¡¹ç›®æ¶‰åŠWebå¼€å‘ã€æ•°æ®åº“è®¾è®¡ã€ç”¨æˆ·ç•Œé¢è®¾è®¡ã€ç®—æ³•è®¾è®¡ç­‰å¤šä¸ªé¢†åŸŸçš„çŸ¥è¯†ï¼Œæ˜¯ä¸€ä¸ªç»¼åˆæ€§è¾ƒå¼ºçš„å®è·µé¡¹ç›®ï¼Œå¯¹äºæå‡è½¯ä»¶å¼€å‘èƒ½åŠ›å…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚

1.3 å›½å†…å¤–ç ”ç©¶ç°çŠ¶åˆ†æ

éŸ³ä¹æ£€ç´¢å’Œæ¨èç³»ç»Ÿæ˜¯è¿‘å¹´æ¥å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œç ”ç©¶çš„çƒ­ç‚¹é¢†åŸŸã€‚åœ¨å›½å†…å¤–ï¼Œå·²ç»æœ‰å¤§é‡çš„ç ”ç©¶æˆæœå’Œæˆç†Ÿçš„å•†ä¸šäº§å“ã€‚

åœ¨å›½å¤–ï¼ŒSpotifyã€Apple Musicã€YouTube Musicç­‰éŸ³ä¹æµåª’ä½“å¹³å°å·²ç»å‘å±•å¾—ç›¸å½“æˆç†Ÿã€‚è¿™äº›å¹³å°ä¸ä»…æä¾›æµ·é‡çš„éŸ³ä¹èµ„æºï¼Œè¿˜é€šè¿‡å…ˆè¿›çš„æ¨èç®—æ³•ä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„éŸ³ä¹æ¨èæœåŠ¡ã€‚Spotifyçš„æ¨èç³»ç»Ÿé‡‡ç”¨ååŒè¿‡æ»¤ã€å†…å®¹åˆ†æã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰å¤šç§æŠ€æœ¯ï¼Œèƒ½å¤Ÿå‡†ç¡®åœ°é¢„æµ‹ç”¨æˆ·çš„éŸ³ä¹åå¥½ã€‚

åœ¨å›½å†…ï¼Œç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹ã€é…·ç‹—éŸ³ä¹ç­‰å¹³å°ä¹Ÿåœ¨éŸ³ä¹æ¨èé¢†åŸŸè¿›è¡Œäº†å¤§é‡çš„ç ”ç©¶å’Œå®è·µã€‚ç½‘æ˜“äº‘éŸ³ä¹çš„"æ¯æ—¥æ¨è"åŠŸèƒ½æ·±å—ç”¨æˆ·å–œçˆ±ï¼Œå…¶æ¨èç®—æ³•ç»¼åˆè€ƒè™‘äº†ç”¨æˆ·çš„æ’­æ”¾å†å²ã€æ”¶è—è®°å½•ã€ç¤¾äº¤å…³ç³»ç­‰å¤šç»´åº¦ä¿¡æ¯ã€‚

ä»æŠ€æœ¯ç ”ç©¶è§’åº¦æ¥çœ‹ï¼ŒéŸ³ä¹æ£€ç´¢å’Œæ¨èä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

ï¼ˆ1ï¼‰åŸºäºå†…å®¹çš„éŸ³ä¹æ£€ç´¢ï¼šé€šè¿‡åˆ†æéŸ³ä¹çš„éŸ³é¢‘ç‰¹å¾ï¼ˆå¦‚èŠ‚å¥ã€æ—‹å¾‹ã€éŸ³è‰²ç­‰ï¼‰è¿›è¡Œæ£€ç´¢å’Œæ¨èã€‚è¿™ç§æ–¹æ³•éœ€è¦å¯¹éŸ³é¢‘ä¿¡å·è¿›è¡Œæ·±å…¥çš„åˆ†æå’Œå¤„ç†ã€‚

ï¼ˆ2ï¼‰åŸºäºååŒè¿‡æ»¤çš„æ¨èï¼šé€šè¿‡åˆ†æç”¨æˆ·çš„è¡Œä¸ºæ•°æ®ï¼ˆå¦‚æ’­æ”¾ã€æ”¶è—ã€è¯„è®ºç­‰ï¼‰ï¼Œæ‰¾å‡ºå…·æœ‰ç›¸ä¼¼åå¥½çš„ç”¨æˆ·ç¾¤ä½“ï¼Œè¿›è¡Œäº¤å‰æ¨èã€‚

ï¼ˆ3ï¼‰åŸºäºæ·±åº¦å­¦ä¹ çš„æ¨èï¼šåˆ©ç”¨ç¥ç»ç½‘ç»œæ¨¡å‹å­¦ä¹ ç”¨æˆ·å’ŒéŸ³ä¹çš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿›è¡Œæ›´åŠ ç²¾å‡†çš„æ¨èã€‚

ï¼ˆ4ï¼‰æ··åˆæ¨èç³»ç»Ÿï¼šç»¼åˆå¤šç§æ¨èæ–¹æ³•çš„ä¼˜ç‚¹ï¼Œæ„å»ºæ›´åŠ å®Œå–„çš„æ¨èç³»ç»Ÿã€‚

æœ¬é¡¹ç›®åœ¨å€Ÿé‰´ç°æœ‰ç ”ç©¶æˆæœçš„åŸºç¡€ä¸Šï¼Œè®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿï¼Œå¹¶é›†æˆäº†åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½æ¨èåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„éŸ³ä¹æœåŠ¡ã€‚


ç¬¬äºŒç«  ç³»ç»Ÿåˆ†æ

2.1 ç³»ç»Ÿçš„éœ€æ±‚åˆ†æ

æ ¹æ®éŸ³ä¹æ£€ç´¢ç³»ç»Ÿçš„åº”ç”¨åœºæ™¯å’Œç”¨æˆ·éœ€æ±‚ï¼Œæœ¬ç³»ç»Ÿéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„åŠŸèƒ½è¦æ±‚ï¼š

2.1.1 ç³»ç»ŸåŠŸèƒ½éœ€æ±‚

1. ç”¨æˆ·ç®¡ç†åŠŸèƒ½
   - ç”¨æˆ·æ³¨å†Œï¼šæ–°ç”¨æˆ·å¯ä»¥é€šè¿‡å¡«å†™ç”¨æˆ·åã€å¯†ç ç­‰ä¿¡æ¯è¿›è¡Œæ³¨å†Œï¼Œæ³¨å†Œæ—¶å¯ä»¥ä¸Šä¼ ä¸ªäººå¤´åƒã€‚
   - ç”¨æˆ·ç™»å½•ï¼šå·²æ³¨å†Œç”¨æˆ·å¯ä»¥é€šè¿‡ç”¨æˆ·åå’Œå¯†ç ç™»å½•ç³»ç»Ÿã€‚
   - ä¸ªäººä¿¡æ¯ç®¡ç†ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤´åƒã€æ€§åˆ«ã€ç”Ÿæ—¥ã€åœ°åŒºç­‰ã€‚
   - å¯†ç ä¿®æ”¹ï¼šç”¨æˆ·å¯ä»¥ä¿®æ”¹è‡ªå·±çš„ç™»å½•å¯†ç ã€‚

2. éŸ³ä¹æ£€ç´¢åŠŸèƒ½
   - å…³é”®è¯æœç´¢ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡è¾“å…¥æ­Œæ›²åç§°ã€æ­Œæ‰‹åç§°ã€æ ‡ç­¾ç­‰å…³é”®è¯è¿›è¡Œæœç´¢ã€‚
   - åˆ†ç±»æµè§ˆï¼šç”¨æˆ·å¯ä»¥æŒ‰ç…§éŸ³ä¹æµæ´¾ã€è¯­ç§ç­‰åˆ†ç±»æµè§ˆéŸ³ä¹ã€‚
   - æœç´¢å†å²ï¼šç³»ç»Ÿè®°å½•ç”¨æˆ·çš„æœç´¢å†å²ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿè®¿é—®ä¹‹å‰æœç´¢è¿‡çš„å†…å®¹ã€‚

3. éŸ³ä¹æ’­æ”¾åŠŸèƒ½
   - åœ¨çº¿æ’­æ”¾ï¼šç”¨æˆ·å¯ä»¥åœ¨çº¿æ’­æ”¾ç³»ç»Ÿä¸­çš„éŸ³ä¹ã€‚
   - æ’­æ”¾æ§åˆ¶ï¼šæ”¯æŒæ’­æ”¾ã€æš‚åœã€ä¸Šä¸€é¦–ã€ä¸‹ä¸€é¦–ã€è¿›åº¦è°ƒèŠ‚ã€éŸ³é‡è°ƒèŠ‚ç­‰æ§åˆ¶åŠŸèƒ½ã€‚
   - æ’­æ”¾æ¨¡å¼ï¼šæ”¯æŒé¡ºåºæ’­æ”¾ã€å•æ›²å¾ªç¯ã€éšæœºæ’­æ”¾ã€åˆ—è¡¨å¾ªç¯ç­‰å¤šç§æ’­æ”¾æ¨¡å¼ã€‚
   - æ­Œè¯æ˜¾ç¤ºï¼šæ”¯æŒæ˜¾ç¤ºæ­Œæ›²çš„æ­Œè¯ä¿¡æ¯ã€‚

4. æ”¶è—ç®¡ç†åŠŸèƒ½
   - æ”¶è—æ­Œæ›²ï¼šç”¨æˆ·å¯ä»¥å°†å–œæ¬¢çš„æ­Œæ›²æ·»åŠ åˆ°æ”¶è—åˆ—è¡¨ã€‚
   - å–æ¶ˆæ”¶è—ï¼šç”¨æˆ·å¯ä»¥å–æ¶ˆå¯¹æ­Œæ›²çš„æ”¶è—ã€‚
   - æ”¶è—åˆ—è¡¨ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹è‡ªå·±æ”¶è—çš„æ‰€æœ‰æ­Œæ›²ã€‚

5. æ­Œå•ç®¡ç†åŠŸèƒ½
   - åˆ›å»ºæ­Œå•ï¼šç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ­Œå•ï¼Œè®¾ç½®æ­Œå•åç§°ã€æè¿°ã€å°é¢ç­‰ä¿¡æ¯ã€‚
   - ç¼–è¾‘æ­Œå•ï¼šç”¨æˆ·å¯ä»¥ä¿®æ”¹æ­Œå•çš„åŸºæœ¬ä¿¡æ¯ã€‚
   - åˆ é™¤æ­Œå•ï¼šç”¨æˆ·å¯ä»¥åˆ é™¤è‡ªå·±åˆ›å»ºçš„æ­Œå•ã€‚
   - æ·»åŠ æ­Œæ›²ï¼šç”¨æˆ·å¯ä»¥å°†æ­Œæ›²æ·»åŠ åˆ°æŒ‡å®šçš„æ­Œå•ä¸­ã€‚
   - ç§»é™¤æ­Œæ›²ï¼šç”¨æˆ·å¯ä»¥ä»æ­Œå•ä¸­ç§»é™¤æ­Œæ›²ã€‚

6. æ’­æ”¾å†å²åŠŸèƒ½
   - å†å²è®°å½•ï¼šç³»ç»Ÿè‡ªåŠ¨è®°å½•ç”¨æˆ·çš„æ’­æ”¾å†å²ã€‚
   - å†å²æŸ¥çœ‹ï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„æ’­æ”¾å†å²è®°å½•ã€‚
   - å†å²æ¸…é™¤ï¼šç”¨æˆ·å¯ä»¥æ¸…é™¤æ’­æ”¾å†å²è®°å½•ã€‚

7. AIæ™ºèƒ½æ¨èåŠŸèƒ½
   - ä¸ªæ€§åŒ–æ¨èï¼šç³»ç»Ÿæ ¹æ®ç”¨æˆ·çš„æ’­æ”¾å†å²ã€æ”¶è—è®°å½•ç­‰ä¿¡æ¯ï¼Œæ¨èç¬¦åˆç”¨æˆ·å£å‘³çš„éŸ³ä¹ã€‚
   - çƒ­é—¨æ¨èï¼šç³»ç»Ÿæ¨èå½“å‰çƒ­é—¨çš„éŸ³ä¹ã€‚
   - æœ€æ–°ä¸Šä¼ ï¼šç³»ç»Ÿå±•ç¤ºæœ€æ–°ä¸Šä¼ çš„éŸ³ä¹ã€‚

8. ç®¡ç†å‘˜åŠŸèƒ½
   - æ­Œæ›²ç®¡ç†ï¼šç®¡ç†å‘˜å¯ä»¥æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤æ­Œæ›²ä¿¡æ¯ï¼Œä¸Šä¼ æ­Œæ›²æ–‡ä»¶å’Œå°é¢ã€‚
   - ç”¨æˆ·ç®¡ç†ï¼šç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·ä¿¡æ¯ã€‚
   - å…¬å‘Šç®¡ç†ï¼šç®¡ç†å‘˜å¯ä»¥å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤ç³»ç»Ÿå…¬å‘Šã€‚

2.1.2 ç³»ç»ŸåŠŸèƒ½æµç¨‹å›¾

ç³»ç»Ÿçš„æ•´ä½“åŠŸèƒ½æµç¨‹å¦‚ä¸‹ï¼š

ç”¨æˆ·è®¿é—®ç³»ç»Ÿ â†’ ç™»å½•/æ³¨å†Œ â†’ è¿›å…¥é¦–é¡µ â†’ æµè§ˆ/æœç´¢éŸ³ä¹ â†’ æ’­æ”¾/æ”¶è—/æ·»åŠ åˆ°æ­Œå• â†’ æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ/æ’­æ”¾å†å²/æ”¶è—/æ­Œå•

ç®¡ç†å‘˜ç™»å½• â†’ è¿›å…¥ç®¡ç†åå° â†’ æ­Œæ›²ç®¡ç†/ç”¨æˆ·ç®¡ç†/å…¬å‘Šç®¡ç†

2.2 ç³»ç»Ÿè®¾è®¡æ ¸å¿ƒç†å¿µ

æœ¬ç³»ç»Ÿçš„è®¾è®¡éµå¾ªä»¥ä¸‹æ ¸å¿ƒç†å¿µï¼š

1. å‰åç«¯åˆ†ç¦»ï¼šç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ï¼Œå‰ç«¯è´Ÿè´£ç”¨æˆ·ç•Œé¢çš„å±•ç¤ºå’Œäº¤äº’ï¼Œåç«¯è´Ÿè´£ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®å­˜å‚¨ã€‚è¿™ç§æ¶æ„ä½¿å¾—å‰åç«¯å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡å’Œç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚

2. æ¨¡å—åŒ–è®¾è®¡ï¼šç³»ç»ŸæŒ‰ç…§åŠŸèƒ½åˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ã€‚æ¨¡å—ä¹‹é—´é€šè¿‡å®šä¹‰è‰¯å¥½çš„æ¥å£è¿›è¡Œé€šä¿¡ï¼Œé™ä½äº†æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä¾¿äºåæœŸçš„ç»´æŠ¤å’Œæ‰©å±•ã€‚

3. ç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼šç³»ç»Ÿçš„ç•Œé¢è®¾è®¡æ³¨é‡ç”¨æˆ·ä½“éªŒï¼Œé‡‡ç”¨ç®€æ´ç¾è§‚çš„è®¾è®¡é£æ ¼ï¼Œæ“ä½œæµç¨‹ç®€å•ç›´è§‚ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ã€‚

4. å®‰å…¨æ€§ä¿éšœï¼šç³»ç»Ÿåœ¨è®¾è®¡æ—¶å……åˆ†è€ƒè™‘äº†å®‰å…¨æ€§é—®é¢˜ï¼ŒåŒ…æ‹¬ç”¨æˆ·å¯†ç åŠ å¯†å­˜å‚¨ã€æ¥å£æƒé™éªŒè¯ã€SQLæ³¨å…¥é˜²æŠ¤ç­‰ã€‚

5. å¯æ‰©å±•æ€§ï¼šç³»ç»Ÿçš„æ¶æ„è®¾è®¡å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ æ–°çš„åŠŸèƒ½æ¨¡å—æˆ–å¯¹ç°æœ‰åŠŸèƒ½è¿›è¡Œå‡çº§ã€‚

2.3 ç³»ç»Ÿå¼€å‘æµç¨‹æ¦‚è¿°

æœ¬ç³»ç»Ÿçš„å¼€å‘æµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

1. éœ€æ±‚åˆ†æé˜¶æ®µï¼šé€šè¿‡è°ƒç ”å’Œåˆ†æï¼Œæ˜ç¡®ç³»ç»Ÿéœ€è¦å®ç°çš„åŠŸèƒ½å’Œæ€§èƒ½è¦æ±‚ï¼Œç¼–å†™éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ã€‚

2. ç³»ç»Ÿè®¾è®¡é˜¶æ®µï¼šæ ¹æ®éœ€æ±‚åˆ†æçš„ç»“æœï¼Œè¿›è¡Œç³»ç»Ÿçš„æ€»ä½“è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ï¼ŒåŒ…æ‹¬ç³»ç»Ÿæ¶æ„è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ã€æ¥å£è®¾è®¡ã€ç•Œé¢è®¾è®¡ç­‰ã€‚

3. ç¼–ç å®ç°é˜¶æ®µï¼šæŒ‰ç…§è®¾è®¡æ–‡æ¡£ï¼Œåˆ†åˆ«è¿›è¡Œå‰ç«¯å’Œåç«¯çš„ç¼–ç å®ç°ã€‚å‰ç«¯ä½¿ç”¨Vue.jsæ¡†æ¶å¼€å‘ç”¨æˆ·ç•Œé¢ï¼Œåç«¯ä½¿ç”¨Flaskæ¡†æ¶å¼€å‘APIæ¥å£ã€‚

4. æµ‹è¯•é˜¶æ®µï¼šå¯¹ç³»ç»Ÿè¿›è¡Œå…¨é¢çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ç­‰ï¼Œç¡®ä¿ç³»ç»Ÿçš„åŠŸèƒ½æ­£ç¡®æ€§å’Œç¨³å®šæ€§ã€‚

5. éƒ¨ç½²ä¸Šçº¿é˜¶æ®µï¼šå°†ç³»ç»Ÿéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿›è¡Œä¸Šçº¿è¿è¡Œã€‚

6. ç»´æŠ¤ä¼˜åŒ–é˜¶æ®µï¼šæ ¹æ®ç”¨æˆ·åé¦ˆå’Œç³»ç»Ÿè¿è¡Œæƒ…å†µï¼Œå¯¹ç³»ç»Ÿè¿›è¡ŒæŒç»­çš„ç»´æŠ¤å’Œä¼˜åŒ–ã€‚

2.4 ç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯ä»‹ç»

2.4.1 B/Sä¸‰å±‚æ¶æ„ä½“ç³»

æœ¬ç³»ç»Ÿé‡‡ç”¨B/Sï¼ˆBrowser/Serverï¼‰ä¸‰å±‚æ¶æ„ï¼Œå³æµè§ˆå™¨/æœåŠ¡å™¨æ¶æ„ã€‚ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®ç³»ç»Ÿï¼Œæ— éœ€å®‰è£…ä»»ä½•å®¢æˆ·ç«¯è½¯ä»¶ã€‚ç³»ç»Ÿçš„ä¸‰å±‚æ¶æ„åŒ…æ‹¬ï¼š

1. è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ï¼šè´Ÿè´£ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¾“å…¥å¹¶å±•ç¤ºç³»ç»Ÿçš„è¾“å‡ºã€‚æœ¬ç³»ç»Ÿçš„è¡¨ç¤ºå±‚ç”±Vue.jså‰ç«¯åº”ç”¨å®ç°ã€‚

2. ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Logic Layerï¼‰ï¼šè´Ÿè´£å¤„ç†ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬æ•°æ®éªŒè¯ã€ä¸šåŠ¡è§„åˆ™å¤„ç†ç­‰ã€‚æœ¬ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘å±‚ç”±Flaskåç«¯åº”ç”¨å®ç°ã€‚

3. æ•°æ®è®¿é—®å±‚ï¼ˆData Access Layerï¼‰ï¼šè´Ÿè´£ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œå®ç°æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚æœ¬ç³»ç»Ÿä½¿ç”¨SQLAlchemy ORMæ¡†æ¶å®ç°æ•°æ®è®¿é—®å±‚ã€‚

B/Sæ¶æ„çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š
- å®¢æˆ·ç«¯é›¶ç»´æŠ¤ï¼šç”¨æˆ·åªéœ€è¦æµè§ˆå™¨å³å¯è®¿é—®ç³»ç»Ÿï¼Œæ— éœ€å®‰è£…å’Œæ›´æ–°å®¢æˆ·ç«¯è½¯ä»¶ã€‚
- è·¨å¹³å°æ€§ï¼šç³»ç»Ÿå¯ä»¥åœ¨ä»»ä½•æ”¯æŒæµè§ˆå™¨çš„è®¾å¤‡ä¸Šè¿è¡Œã€‚
- æ˜“äºéƒ¨ç½²å’Œå‡çº§ï¼šç³»ç»Ÿçš„æ›´æ–°åªéœ€è¦åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œï¼Œç”¨æˆ·æ— æ„ŸçŸ¥ã€‚
- é›†ä¸­ç®¡ç†ï¼šæ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®éƒ½é›†ä¸­åœ¨æœåŠ¡å™¨ç«¯ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚

2.4.2 Flaskæ¡†æ¶ç®€è¿°

Flaskæ˜¯ä¸€ä¸ªä½¿ç”¨Pythonç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚å®ƒè¢«è®¾è®¡ä¸ºç®€å•ã€çµæ´»ã€æ˜“äºæ‰©å±•ï¼Œæ˜¯Python Webå¼€å‘ä¸­æœ€å—æ¬¢è¿çš„æ¡†æ¶ä¹‹ä¸€ã€‚

Flaskçš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š

1. è½»é‡çº§ï¼šFlaskçš„æ ¸å¿ƒéå¸¸ç®€æ´ï¼ŒåªåŒ…å«æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½é€šè¿‡æ‰©å±•æ¥å®ç°ã€‚

2. çµæ´»æ€§ï¼šFlaskä¸å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„é¡¹ç›®ç»“æ„æˆ–ç»„ä»¶ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è‡ªç”±é€‰æ‹©ã€‚

3. æ˜“äºå­¦ä¹ ï¼šFlaskçš„APIè®¾è®¡ç®€æ´æ˜äº†ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ï¼Œé€‚åˆåˆå­¦è€…å…¥é—¨ã€‚

4. ä¸°å¯Œçš„æ‰©å±•ï¼šFlaskæ‹¥æœ‰ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ·»åŠ æ•°æ®åº“æ”¯æŒã€è¡¨å•éªŒè¯ã€ç”¨æˆ·è®¤è¯ç­‰åŠŸèƒ½ã€‚

5. å†…ç½®å¼€å‘æœåŠ¡å™¨ï¼šFlaskå†…ç½®äº†å¼€å‘æœåŠ¡å™¨ï¼Œæ–¹ä¾¿å¼€å‘å’Œè°ƒè¯•ã€‚

2.4.3 Flaskæ¡†æ¶ä¼˜åŠ¿å‰–æ

Flaskæ¡†æ¶åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. å¿«é€Ÿå¼€å‘ï¼šFlaskçš„ç®€æ´è®¾è®¡ä½¿å¾—å¼€å‘è€…å¯ä»¥å¿«é€Ÿæ­å»ºWebåº”ç”¨ï¼Œå‡å°‘äº†æ ·æ¿ä»£ç çš„ç¼–å†™ã€‚

2. RESTful APIæ”¯æŒï¼šFlaskéå¸¸é€‚åˆå¼€å‘RESTful APIï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°å‰åç«¯åˆ†ç¦»æ¶æ„ã€‚

3. SQLAlchemyé›†æˆï¼šé€šè¿‡Flask-SQLAlchemyæ‰©å±•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨SQLAlchemy ORMè¿›è¡Œæ•°æ®åº“æ“ä½œã€‚

4. CORSæ”¯æŒï¼šé€šè¿‡Flask-CORSæ‰©å±•ï¼Œå¯ä»¥è½»æ¾è§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜ï¼Œæ”¯æŒå‰åç«¯åˆ†ç¦»å¼€å‘ã€‚

5. è‰¯å¥½çš„æ–‡æ¡£ï¼šFlaskæ‹¥æœ‰å®Œå–„çš„å®˜æ–¹æ–‡æ¡£å’Œæ´»è·ƒçš„ç¤¾åŒºï¼Œé‡åˆ°é—®é¢˜å¯ä»¥å¿«é€Ÿæ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚

6. ç”Ÿäº§å°±ç»ªï¼šFlaskå¯ä»¥ä¸Gunicornã€uWSGIç­‰WSGIæœåŠ¡å™¨é…åˆï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚


2.4.4 Vueæ¡†æ¶æ¦‚è§ˆ

Vue.jsæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼JavaScriptæ¡†æ¶ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨ï¼Œæ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œæ˜“äºä¸Šæ‰‹ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚

Vue.jsçš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š

1. å“åº”å¼æ•°æ®ç»‘å®šï¼šVue.jså®ç°äº†æ•°æ®ä¸è§†å›¾çš„åŒå‘ç»‘å®šï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

2. ç»„ä»¶åŒ–å¼€å‘ï¼šVue.jsæ”¯æŒå°†é¡µé¢æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ã€å¯å¤ç”¨çš„ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åŒ…å«è‡ªå·±çš„æ¨¡æ¿ã€é€»è¾‘å’Œæ ·å¼ã€‚

3. è™šæ‹ŸDOMï¼šVue.jsä½¿ç”¨è™šæ‹ŸDOMæŠ€æœ¯ï¼Œé€šè¿‡æ¯”è¾ƒæ–°æ—§è™šæ‹ŸDOMçš„å·®å¼‚ï¼Œæœ€å°åŒ–å®é™…DOMæ“ä½œï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚

4. å•æ–‡ä»¶ç»„ä»¶ï¼šVue.jsæ”¯æŒ.vueæ ¼å¼çš„å•æ–‡ä»¶ç»„ä»¶ï¼Œå°†æ¨¡æ¿ã€è„šæœ¬å’Œæ ·å¼å°è£…åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¾¿äºå¼€å‘å’Œç»´æŠ¤ã€‚

5. ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿï¼šVue.jsæ‹¥æœ‰å®Œå–„çš„ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬Vue Routerï¼ˆè·¯ç”±ç®¡ç†ï¼‰ã€Pinia/Vuexï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ã€Vue CLIï¼ˆè„šæ‰‹æ¶å·¥å…·ï¼‰ç­‰ã€‚

2.4.5 Vueæ¡†æ¶ä¼˜åŠ¿é˜è¿°

Vue.jsæ¡†æ¶åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. å­¦ä¹ æˆæœ¬ä½ï¼šVue.jsçš„APIè®¾è®¡ç®€æ´ç›´è§‚ï¼Œæ–‡æ¡£å®Œå–„ï¼Œä¸­æ–‡èµ„æ–™ä¸°å¯Œï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ã€‚

2. å¼€å‘æ•ˆç‡é«˜ï¼šVue.jsçš„ç»„ä»¶åŒ–å¼€å‘æ¨¡å¼å’Œä¸°å¯Œçš„å·¥å…·é“¾ï¼Œå¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚

3. æ€§èƒ½ä¼˜ç§€ï¼šVue.jsçš„è™šæ‹ŸDOMå’Œå“åº”å¼ç³»ç»Ÿç»è¿‡ç²¾å¿ƒä¼˜åŒ–ï¼Œå…·æœ‰å‡ºè‰²çš„è¿è¡Œæ—¶æ€§èƒ½ã€‚

4. ä½“ç§¯å°å·§ï¼šVue.jsçš„æ ¸å¿ƒåº“ä½“ç§¯å¾ˆå°ï¼ˆå‹ç¼©åçº¦20KBï¼‰ï¼ŒåŠ è½½é€Ÿåº¦å¿«ã€‚

5. æ¸è¿›å¼æ¶æ„ï¼šVue.jså¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€æ­¥å¼•å…¥æ›´å¤šåŠŸèƒ½ï¼Œæ—¢å¯ä»¥ç”¨äºç®€å•çš„é¡µé¢å¢å¼ºï¼Œä¹Ÿå¯ä»¥æ„å»ºå¤æ‚çš„å•é¡µåº”ç”¨ã€‚

6. æ´»è·ƒçš„ç¤¾åŒºï¼šVue.jsæ‹¥æœ‰æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºï¼Œæœ‰å¤§é‡çš„ç¬¬ä¸‰æ–¹ç»„ä»¶å’Œæ’ä»¶å¯ä¾›ä½¿ç”¨ã€‚

æœ¬é¡¹ç›®ä½¿ç”¨Vue 3ç‰ˆæœ¬ï¼Œç›¸æ¯”Vue 2ï¼ŒVue 3å…·æœ‰ä»¥ä¸‹æ”¹è¿›ï¼š
- Composition APIï¼šæä¾›äº†æ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚
- æ›´å¥½çš„TypeScriptæ”¯æŒï¼šVue 3ä»åº•å±‚é‡å†™ï¼Œå¯¹TypeScriptæä¾›äº†æ›´å¥½çš„æ”¯æŒã€‚
- æ€§èƒ½æå‡ï¼šVue 3çš„è™šæ‹ŸDOMé‡å†™ï¼Œæ¸²æŸ“æ€§èƒ½æå‡æ˜¾è‘—ã€‚
- æ›´å°çš„åŒ…ä½“ç§¯ï¼šé€šè¿‡Tree-shakingï¼Œå¯ä»¥åªæ‰“åŒ…ä½¿ç”¨åˆ°çš„åŠŸèƒ½ã€‚

2.4.6 MySQLæ•°æ®åº“æ¦‚è¿°

MySQLæ˜¯ä¸€ä¸ªå¼€æºçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œç”±ç‘å…¸MySQL ABå…¬å¸å¼€å‘ï¼Œç›®å‰å±äºOracleå…¬å¸ã€‚MySQLæ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ä¹‹ä¸€ï¼Œå¹¿æ³›åº”ç”¨äºWebåº”ç”¨å¼€å‘ã€‚

MySQLçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š

1. å¼€æºå…è´¹ï¼šMySQLæ˜¯å¼€æºè½¯ä»¶ï¼Œå¯ä»¥å…è´¹ä½¿ç”¨å’Œä¿®æ”¹ã€‚

2. æ€§èƒ½ä¼˜ç§€ï¼šMySQLç»è¿‡å¤šå¹´çš„ä¼˜åŒ–ï¼Œå…·æœ‰å‡ºè‰²çš„æŸ¥è¯¢æ€§èƒ½ï¼Œèƒ½å¤Ÿå¤„ç†å¤§é‡çš„å¹¶å‘è¯·æ±‚ã€‚

3. å¯é æ€§é«˜ï¼šMySQLæ”¯æŒäº‹åŠ¡å¤„ç†ã€å¤–é”®çº¦æŸç­‰ç‰¹æ€§ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚

4. æ˜“äºä½¿ç”¨ï¼šMySQLçš„å®‰è£…å’Œé…ç½®ç›¸å¯¹ç®€å•ï¼ŒSQLè¯­æ³•æ ‡å‡†ï¼Œæ˜“äºå­¦ä¹ å’Œä½¿ç”¨ã€‚

5. è·¨å¹³å°ï¼šMySQLå¯ä»¥è¿è¡Œåœ¨å¤šç§æ“ä½œç³»ç»Ÿä¸Šï¼ŒåŒ…æ‹¬Windowsã€Linuxã€macOSç­‰ã€‚

6. ä¸°å¯Œçš„å­˜å‚¨å¼•æ“ï¼šMySQLæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œå¦‚InnoDBã€MyISAMç­‰ï¼Œå¯ä»¥æ ¹æ®åº”ç”¨éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­˜å‚¨å¼•æ“ã€‚

æœ¬é¡¹ç›®ä½¿ç”¨MySQLä½œä¸ºæ•°æ®å­˜å‚¨ï¼Œé€šè¿‡SQLAlchemy ORMæ¡†æ¶è¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œå®ç°äº†æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨ã€‚

2.5 ç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒå’Œå¼€å‘å¹³å°

2.5.1 ç¡¬ä»¶è®¾å¤‡åŠæ“ä½œç³»ç»Ÿ

æœåŠ¡å™¨ç«¯è¦æ±‚ï¼š
- CPUï¼šIntel Core i5æˆ–åŒç­‰æ€§èƒ½ä»¥ä¸Šå¤„ç†å™¨
- å†…å­˜ï¼š8GBä»¥ä¸Š
- ç¡¬ç›˜ï¼š100GBä»¥ä¸Šå¯ç”¨ç©ºé—´
- ç½‘ç»œï¼šç¨³å®šçš„ç½‘ç»œè¿æ¥

å®¢æˆ·ç«¯è¦æ±‚ï¼š
- æ”¯æŒç°ä»£æµè§ˆå™¨çš„ä»»æ„è®¾å¤‡ï¼ˆPCã€å¹³æ¿ã€æ‰‹æœºï¼‰
- æ¨èä½¿ç”¨Chromeã€Firefoxã€Edgeç­‰ç°ä»£æµè§ˆå™¨

æ“ä½œç³»ç»Ÿï¼š
- æœåŠ¡å™¨ç«¯ï¼šWindows 10/11ã€Linuxï¼ˆUbuntuã€CentOSç­‰ï¼‰
- å®¢æˆ·ç«¯ï¼šä»»æ„æ”¯æŒç°ä»£æµè§ˆå™¨çš„æ“ä½œç³»ç»Ÿ

2.5.2 ç³»ç»Ÿå¼€å‘å·¥å…·

æœ¬é¡¹ç›®çš„å¼€å‘ç¯å¢ƒé…ç½®å¦‚ä¸‹ï¼š

å¼€å‘è®¾å¤‡ï¼š
- CPUï¼šIntel Core i5
- å†…å­˜ï¼š16GB DDR4
- ç¡¬ç›˜ï¼š512GB SSD

æ“ä½œç³»ç»Ÿï¼šWindows 10/11

å¼€å‘å·¥å…·ï¼š
- åç«¯å¼€å‘ï¼šPyCharm / VS Code
- å‰ç«¯å¼€å‘ï¼šVS Code / WebStorm
- æ•°æ®åº“ç®¡ç†ï¼šMySQL Workbench / Navicat
- ç‰ˆæœ¬æ§åˆ¶ï¼šGit
- APIæµ‹è¯•ï¼šPostman

è¿è¡Œç¯å¢ƒï¼š
- Pythonï¼š3.9+
- Node.jsï¼š16+
- MySQLï¼š5.7+ / 8.0
- npm/yarnï¼šæœ€æ–°ç‰ˆæœ¬

2.5.3 å¼€å‘å·¥å…·ç®€ä»‹

ï¼ˆ1ï¼‰Visual Studio Codeæ¦‚è§ˆ

Visual Studio Codeï¼ˆç®€ç§°VS Codeï¼‰æ˜¯ç”±å¾®è½¯å¼€å‘çš„ä¸€æ¬¾å…è´¹ã€å¼€æºçš„ä»£ç ç¼–è¾‘å™¨ã€‚å®ƒæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå…·æœ‰ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ç³»ç»Ÿï¼Œæ˜¯ç›®å‰æœ€å—æ¬¢è¿çš„ä»£ç ç¼–è¾‘å™¨ä¹‹ä¸€ã€‚

VS Codeçš„ä¸»è¦ç‰¹ç‚¹ï¼š
- è½»é‡çº§ï¼šå¯åŠ¨é€Ÿåº¦å¿«ï¼Œå ç”¨èµ„æºå°‘ã€‚
- è·¨å¹³å°ï¼šæ”¯æŒWindowsã€macOSã€Linuxã€‚
- æ™ºèƒ½ä»£ç è¡¥å…¨ï¼šå†…ç½®IntelliSenseï¼Œæä¾›æ™ºèƒ½ä»£ç è¡¥å…¨å’Œæç¤ºã€‚
- å†…ç½®Gitæ”¯æŒï¼šå¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æ“ä½œã€‚
- ä¸°å¯Œçš„æ‰©å±•ï¼šæ‹¥æœ‰åºå¤§çš„æ‰©å±•å¸‚åœºï¼Œå¯ä»¥å®‰è£…å„ç§è¯­è¨€æ”¯æŒã€ä¸»é¢˜ã€å·¥å…·ç­‰ã€‚
- é›†æˆç»ˆç«¯ï¼šå†…ç½®ç»ˆç«¯ï¼Œæ–¹ä¾¿æ‰§è¡Œå‘½ä»¤è¡Œæ“ä½œã€‚

ï¼ˆ2ï¼‰PyCharmç®€ä»‹

PyCharmæ˜¯JetBrainså…¬å¸å¼€å‘çš„Pythoné›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ã€‚å®ƒæä¾›äº†ä»£ç åˆ†æã€å›¾å½¢åŒ–è°ƒè¯•å™¨ã€é›†æˆæµ‹è¯•å™¨ç­‰åŠŸèƒ½ï¼Œæ˜¯Pythonå¼€å‘çš„é¦–é€‰å·¥å…·ä¹‹ä¸€ã€‚

PyCharmçš„ä¸»è¦ç‰¹ç‚¹ï¼š
- æ™ºèƒ½ä»£ç ç¼–è¾‘ï¼šæä¾›ä»£ç è¡¥å…¨ã€é”™è¯¯æ£€æµ‹ã€å¿«é€Ÿä¿®å¤ç­‰åŠŸèƒ½ã€‚
- å¼ºå¤§çš„è°ƒè¯•å™¨ï¼šæ”¯æŒæ–­ç‚¹è°ƒè¯•ã€å˜é‡ç›‘è§†ã€è¡¨è¾¾å¼æ±‚å€¼ç­‰ã€‚
- ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼šå†…ç½®å¯¹Gitã€SVNç­‰ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ”¯æŒã€‚
- æ•°æ®åº“å·¥å…·ï¼šå¯ä»¥ç›´æ¥è¿æ¥å’Œæ“ä½œæ•°æ®åº“ã€‚
- Webå¼€å‘æ”¯æŒï¼šæ”¯æŒFlaskã€Djangoç­‰Webæ¡†æ¶çš„å¼€å‘ã€‚

ï¼ˆ3ï¼‰MySQL Workbenchç®€ä»‹

MySQL Workbenchæ˜¯MySQLå®˜æ–¹æä¾›çš„å›¾å½¢åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·ã€‚å®ƒæä¾›äº†æ•°æ®åº“è®¾è®¡ã€SQLå¼€å‘ã€æ•°æ®åº“ç®¡ç†ç­‰åŠŸèƒ½ã€‚

MySQL Workbenchçš„ä¸»è¦åŠŸèƒ½ï¼š
- æ•°æ®åº“è®¾è®¡ï¼šå¯ä»¥é€šè¿‡å›¾å½¢åŒ–ç•Œé¢è®¾è®¡æ•°æ®åº“ç»“æ„ã€‚
- SQLç¼–è¾‘å™¨ï¼šæä¾›è¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨ã€æ‰§è¡Œè®¡åˆ’åˆ†æç­‰åŠŸèƒ½ã€‚
- æ•°æ®ç®¡ç†ï¼šå¯ä»¥æµè§ˆã€ç¼–è¾‘ã€å¯¼å…¥ã€å¯¼å‡ºæ•°æ®ã€‚
- æœåŠ¡å™¨ç®¡ç†ï¼šå¯ä»¥ç®¡ç†MySQLæœåŠ¡å™¨çš„é…ç½®å’ŒçŠ¶æ€ã€‚

2.6 ç³»ç»ŸéåŠŸèƒ½æ€§éœ€æ±‚åˆ†æ

2.6.1 ç³»ç»Ÿå…¼å®¹æ€§éœ€æ±‚

ç³»ç»Ÿå…¼å®¹æ€§æ˜¯æŒ‡ç³»ç»Ÿåœ¨ä¸åŒçš„è½¯ä»¶å’Œç¡¬ä»¶ç¯å¢ƒä¸‹èƒ½å¤Ÿæ­£å¸¸è¿è¡Œçš„èƒ½åŠ›ã€‚æœ¬ç³»ç»Ÿçš„å…¼å®¹æ€§éœ€æ±‚åŒ…æ‹¬ï¼š

1. æµè§ˆå™¨å…¼å®¹æ€§ï¼šç³»ç»Ÿéœ€è¦æ”¯æŒä¸»æµçš„ç°ä»£æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ï¼š
   - Google Chromeï¼ˆæœ€æ–°ç‰ˆæœ¬åŠå‰ä¸¤ä¸ªä¸»è¦ç‰ˆæœ¬ï¼‰
   - Mozilla Firefoxï¼ˆæœ€æ–°ç‰ˆæœ¬åŠå‰ä¸¤ä¸ªä¸»è¦ç‰ˆæœ¬ï¼‰
   - Microsoft Edgeï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰
   - Safariï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰

2. è®¾å¤‡å…¼å®¹æ€§ï¼šç³»ç»Ÿéœ€è¦æ”¯æŒä¸åŒç±»å‹çš„è®¾å¤‡ï¼ŒåŒ…æ‹¬ï¼š
   - æ¡Œé¢ç”µè„‘ï¼ˆWindowsã€macOSã€Linuxï¼‰
   - å¹³æ¿ç”µè„‘ï¼ˆiPadã€Androidå¹³æ¿ï¼‰
   - æ™ºèƒ½æ‰‹æœºï¼ˆiPhoneã€Androidæ‰‹æœºï¼‰

3. å“åº”å¼è®¾è®¡ï¼šç³»ç»Ÿçš„ç•Œé¢éœ€è¦èƒ½å¤Ÿè‡ªé€‚åº”ä¸åŒçš„å±å¹•å°ºå¯¸ï¼Œåœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

2.6.2 ç³»ç»Ÿå®‰å…¨æ€§

ç³»ç»Ÿå®‰å…¨æ€§æ˜¯ä¿éšœç³»ç»Ÿæ­£å¸¸è¿è¡Œå’Œç”¨æˆ·æ•°æ®å®‰å…¨çš„é‡è¦å› ç´ ã€‚æœ¬ç³»ç»Ÿçš„å®‰å…¨æ€§éœ€æ±‚åŒ…æ‹¬ï¼š

1. ç”¨æˆ·è®¤è¯ï¼šç³»ç»Ÿéœ€è¦å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½è®¤è¯ï¼Œåªæœ‰é€šè¿‡è®¤è¯çš„ç”¨æˆ·æ‰èƒ½è®¿é—®å—ä¿æŠ¤çš„èµ„æºã€‚

2. å¯†ç å®‰å…¨ï¼šç”¨æˆ·å¯†ç éœ€è¦è¿›è¡ŒåŠ å¯†å­˜å‚¨ï¼Œä¸èƒ½ä»¥æ˜æ–‡å½¢å¼ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚

3. æƒé™æ§åˆ¶ï¼šç³»ç»Ÿéœ€è¦å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œä¸åŒè§’è‰²çš„ç”¨æˆ·å…·æœ‰ä¸åŒçš„æ“ä½œæƒé™ã€‚

4. æ•°æ®éªŒè¯ï¼šç³»ç»Ÿéœ€è¦å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œé˜²æ­¢SQLæ³¨å…¥ã€XSSæ”»å‡»ç­‰å®‰å…¨å¨èƒã€‚

5. æ¥å£å®‰å…¨ï¼šAPIæ¥å£éœ€è¦è¿›è¡Œæƒé™éªŒè¯ï¼Œé˜²æ­¢æœªæˆæƒçš„è®¿é—®ã€‚

6. æ•°æ®å¤‡ä»½ï¼šç³»ç»Ÿéœ€è¦å®šæœŸå¤‡ä»½æ•°æ®ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚

2.6.3 æŠ€æœ¯å¯è¡Œæ€§

æŠ€æœ¯å¯è¡Œæ€§åˆ†ææ˜¯è¯„ä¼°é¡¹ç›®èƒ½å¦åœ¨ç°æœ‰æŠ€æœ¯æ¡ä»¶ä¸‹å®ç°çš„è¿‡ç¨‹ã€‚æœ¬é¡¹ç›®çš„æŠ€æœ¯å¯è¡Œæ€§åˆ†æå¦‚ä¸‹ï¼š

1. æŠ€æœ¯æˆç†Ÿåº¦ï¼šæœ¬é¡¹ç›®ä½¿ç”¨çš„Flaskã€Vue.jsã€MySQLç­‰æŠ€æœ¯éƒ½æ˜¯æˆç†Ÿç¨³å®šçš„æŠ€æœ¯ï¼Œæœ‰å¤§é‡çš„æˆåŠŸæ¡ˆä¾‹å’Œä¸°å¯Œçš„æ–‡æ¡£èµ„æ–™ã€‚

2. å¼€å‘å›¢é˜Ÿèƒ½åŠ›ï¼šå¼€å‘å›¢é˜Ÿå…·å¤‡Pythonã€JavaScriptã€SQLç­‰ç¼–ç¨‹è¯­è¨€çš„å¼€å‘èƒ½åŠ›ï¼Œç†Ÿæ‚‰Webåº”ç”¨å¼€å‘çš„åŸºæœ¬æµç¨‹ã€‚

3. å¼€å‘å·¥å…·æ”¯æŒï¼šæœ‰ä¸°å¯Œçš„å¼€å‘å·¥å…·å’Œæ¡†æ¶æ”¯æŒï¼Œå¯ä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚

4. æŠ€æœ¯é£é™©ï¼šé¡¹ç›®ä½¿ç”¨çš„éƒ½æ˜¯ä¸»æµæŠ€æœ¯ï¼ŒæŠ€æœ¯é£é™©è¾ƒä½ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œæœ¬é¡¹ç›®åœ¨æŠ€æœ¯ä¸Šæ˜¯å®Œå…¨å¯è¡Œçš„ã€‚

2.7 æœ¬ç« å°ç»“

æœ¬ç« å¯¹éŸ³ä¹æ£€ç´¢ç³»ç»Ÿè¿›è¡Œäº†å…¨é¢çš„éœ€æ±‚åˆ†æå’ŒæŠ€æœ¯åˆ†æã€‚é¦–å…ˆï¼Œæ˜ç¡®äº†ç³»ç»Ÿéœ€è¦å®ç°çš„åŠŸèƒ½éœ€æ±‚ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€éŸ³ä¹æ£€ç´¢ã€éŸ³ä¹æ’­æ”¾ã€æ”¶è—ç®¡ç†ã€æ­Œå•ç®¡ç†ã€æ’­æ”¾å†å²ã€AIæ™ºèƒ½æ¨èã€ç®¡ç†å‘˜åŠŸèƒ½ç­‰ã€‚ç„¶åï¼Œä»‹ç»äº†ç³»ç»Ÿçš„è®¾è®¡ç†å¿µå’Œå¼€å‘æµç¨‹ã€‚æ¥ç€ï¼Œè¯¦ç»†ä»‹ç»äº†ç³»ç»Ÿä½¿ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒåŒ…æ‹¬B/Sæ¶æ„ã€Flaskæ¡†æ¶ã€Vue.jsæ¡†æ¶ã€MySQLæ•°æ®åº“ç­‰ã€‚æœ€åï¼Œåˆ†æäº†ç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒã€å¼€å‘å·¥å…·ä»¥åŠéåŠŸèƒ½æ€§éœ€æ±‚ã€‚é€šè¿‡æœ¬ç« çš„åˆ†æï¼Œä¸ºåç»­çš„ç³»ç»Ÿè®¾è®¡å’Œå®ç°å¥ å®šäº†åŸºç¡€ã€‚


ç¬¬ä¸‰ç«  ç³»ç»Ÿè®¾è®¡

3.1 ç³»ç»Ÿæµç¨‹

æœ¬ç³»ç»Ÿæ¶‰åŠä¸¤ç±»ç”¨æˆ·è§’è‰²ï¼šæ™®é€šç”¨æˆ·å’Œç³»ç»Ÿç®¡ç†å‘˜ã€‚ä¸åŒè§’è‰²çš„ç”¨æˆ·å…·æœ‰ä¸åŒçš„æ“ä½œæƒé™å’Œä½¿ç”¨æµç¨‹ã€‚

æ™®é€šç”¨æˆ·çš„ä½¿ç”¨æµç¨‹ï¼š
1. ç”¨æˆ·è®¿é—®ç³»ç»Ÿé¦–é¡µï¼Œå¯ä»¥æµè§ˆæ¨èéŸ³ä¹å’Œæœ€æ–°ä¸Šä¼ çš„éŸ³ä¹ã€‚
2. ç”¨æˆ·å¯ä»¥é€šè¿‡æœç´¢æ¡†æœç´¢æƒ³è¦çš„éŸ³ä¹ï¼Œæ”¯æŒæŒ‰æ­Œæ›²åã€æ­Œæ‰‹åã€æ ‡ç­¾ç­‰è¿›è¡Œæœç´¢ã€‚
3. ç”¨æˆ·ç‚¹å‡»æ­Œæ›²å¯ä»¥è¿›å…¥æ­Œæ›²è¯¦æƒ…é¡µï¼ŒæŸ¥çœ‹æ­Œæ›²ä¿¡æ¯ã€æ­Œè¯ã€è¯„è®ºç­‰ã€‚
4. ç”¨æˆ·å¯ä»¥åœ¨çº¿æ’­æ”¾éŸ³ä¹ï¼Œä½¿ç”¨æ’­æ”¾å™¨æ§åˆ¶æ’­æ”¾è¿›åº¦ã€éŸ³é‡ã€æ’­æ”¾æ¨¡å¼ç­‰ã€‚
5. ç™»å½•åï¼Œç”¨æˆ·å¯ä»¥æ”¶è—å–œæ¬¢çš„æ­Œæ›²ï¼Œåˆ›å»ºå’Œç®¡ç†è‡ªå·±çš„æ­Œå•ã€‚
6. ç”¨æˆ·å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„æ’­æ”¾å†å²è®°å½•ã€‚
7. ç”¨æˆ·å¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒä¿®æ”¹ä¸ªäººä¿¡æ¯å’Œå¯†ç ã€‚

ç³»ç»Ÿç®¡ç†å‘˜çš„ä½¿ç”¨æµç¨‹ï¼š
1. ç®¡ç†å‘˜é€šè¿‡ç®¡ç†å‘˜è´¦å·ç™»å½•ç³»ç»Ÿã€‚
2. ç®¡ç†å‘˜å¯ä»¥è¿›å…¥æ­Œæ›²ç®¡ç†é¡µé¢ï¼Œæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤æ­Œæ›²ä¿¡æ¯ã€‚
3. ç®¡ç†å‘˜å¯ä»¥è¿›å…¥ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ŒæŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·ä¿¡æ¯ã€‚
4. ç®¡ç†å‘˜å¯ä»¥è¿›å…¥å…¬å‘Šç®¡ç†é¡µé¢ï¼Œå‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤ç³»ç»Ÿå…¬å‘Šã€‚

3.2 ç³»ç»ŸåŠŸèƒ½æ¨¡å—çš„åˆ’åˆ†

æ ¹æ®éœ€æ±‚åˆ†æçš„ç»“æœï¼Œæœ¬ç³»ç»Ÿåˆ’åˆ†ä¸ºä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼š

3.2.1 ç”¨æˆ·ç®¡ç†æ¨¡å—

ç”¨æˆ·ç®¡ç†æ¨¡å—è´Ÿè´£ç”¨æˆ·çš„æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†ç­‰åŠŸèƒ½ã€‚

1. ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼š
   - ç”¨æˆ·å¡«å†™ç”¨æˆ·åã€å¯†ç è¿›è¡Œæ³¨å†Œ
   - æ”¯æŒä¸Šä¼ ä¸ªäººå¤´åƒ
   - ç”¨æˆ·åå”¯ä¸€æ€§éªŒè¯
   - å¯†ç é•¿åº¦å’Œæ ¼å¼éªŒè¯

2. ç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼š
   - ç”¨æˆ·åå’Œå¯†ç éªŒè¯
   - ç™»å½•çŠ¶æ€ä¿æŒ
   - ç™»å½•å¤±è´¥æç¤º

3. ä¸ªäººä¿¡æ¯ç®¡ç†åŠŸèƒ½ï¼š
   - æŸ¥çœ‹ä¸ªäººä¿¡æ¯
   - ä¿®æ”¹å¤´åƒã€æ€§åˆ«ã€ç”Ÿæ—¥ã€åœ°åŒºç­‰ä¿¡æ¯
   - ä¿®æ”¹ç™»å½•å¯†ç 

3.2.2 éŸ³ä¹æ£€ç´¢æ¨¡å—

éŸ³ä¹æ£€ç´¢æ¨¡å—è´Ÿè´£éŸ³ä¹çš„æœç´¢å’Œæµè§ˆåŠŸèƒ½ã€‚

1. å…³é”®è¯æœç´¢åŠŸèƒ½ï¼š
   - æ”¯æŒæŒ‰æ­Œæ›²åç§°æœç´¢
   - æ”¯æŒæŒ‰æ­Œæ‰‹åç§°æœç´¢
   - æ”¯æŒæŒ‰æ ‡ç­¾æœç´¢
   - æœç´¢ç»“æœåˆ†é¡µæ˜¾ç¤º

2. åˆ†ç±»æµè§ˆåŠŸèƒ½ï¼š
   - æŒ‰éŸ³ä¹æµæ´¾åˆ†ç±»ï¼ˆæµè¡Œã€æ‘‡æ»šã€æ°‘è°£ã€å¤å…¸ç­‰ï¼‰
   - æŒ‰è¯­ç§åˆ†ç±»ï¼ˆåè¯­ã€æ¬§ç¾ã€æ—¥éŸ©ç­‰ï¼‰
   - åˆ†ç±»ç­›é€‰å’Œç»„åˆç­›é€‰

3. æœç´¢å†å²åŠŸèƒ½ï¼š
   - è®°å½•ç”¨æˆ·æœç´¢å†å²
   - å¿«é€Ÿè®¿é—®å†å²æœç´¢
   - æ¸…é™¤æœç´¢å†å²

3.2.3 æ’­æ”¾ç®¡ç†æ¨¡å—

æ’­æ”¾ç®¡ç†æ¨¡å—è´Ÿè´£éŸ³ä¹çš„æ’­æ”¾æ§åˆ¶å’Œæ’­æ”¾å†å²ç®¡ç†ã€‚

1. éŸ³ä¹æ’­æ”¾åŠŸèƒ½ï¼š
   - åœ¨çº¿æµåª’ä½“æ’­æ”¾
   - æ’­æ”¾/æš‚åœæ§åˆ¶
   - ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–åˆ‡æ¢
   - æ’­æ”¾è¿›åº¦æ§åˆ¶
   - éŸ³é‡è°ƒèŠ‚

2. æ’­æ”¾æ¨¡å¼åŠŸèƒ½ï¼š
   - é¡ºåºæ’­æ”¾æ¨¡å¼
   - å•æ›²å¾ªç¯æ¨¡å¼
   - éšæœºæ’­æ”¾æ¨¡å¼
   - åˆ—è¡¨å¾ªç¯æ¨¡å¼

3. æ’­æ”¾å†å²åŠŸèƒ½ï¼š
   - è‡ªåŠ¨è®°å½•æ’­æ”¾å†å²
   - æŸ¥çœ‹æ’­æ”¾å†å²åˆ—è¡¨
   - ä»å†å²è®°å½•æ’­æ”¾
   - æ¸…é™¤æ’­æ”¾å†å²

3.2.4 æ”¶è—ä¸æ­Œå•æ¨¡å—

æ”¶è—ä¸æ­Œå•æ¨¡å—è´Ÿè´£ç”¨æˆ·çš„æ”¶è—ç®¡ç†å’Œæ­Œå•ç®¡ç†åŠŸèƒ½ã€‚

1. æ”¶è—ç®¡ç†åŠŸèƒ½ï¼š
   - æ”¶è—/å–æ¶ˆæ”¶è—æ­Œæ›²
   - æŸ¥çœ‹æ”¶è—åˆ—è¡¨
   - ä»æ”¶è—åˆ—è¡¨æ’­æ”¾

2. æ­Œå•ç®¡ç†åŠŸèƒ½ï¼š
   - åˆ›å»ºæ–°æ­Œå•
   - ç¼–è¾‘æ­Œå•ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€å°é¢ï¼‰
   - åˆ é™¤æ­Œå•
   - æ·»åŠ æ­Œæ›²åˆ°æ­Œå•
   - ä»æ­Œå•ç§»é™¤æ­Œæ›²
   - æ’­æ”¾æ•´ä¸ªæ­Œå•

3.2.5 ç³»ç»Ÿç®¡ç†æ¨¡å—

ç³»ç»Ÿç®¡ç†æ¨¡å—è´Ÿè´£ç®¡ç†å‘˜çš„åå°ç®¡ç†åŠŸèƒ½ã€‚

1. æ­Œæ›²ç®¡ç†åŠŸèƒ½ï¼š
   - æ·»åŠ æ–°æ­Œæ›²ï¼ˆä¸Šä¼ éŸ³é¢‘æ–‡ä»¶ã€å¡«å†™æ­Œæ›²ä¿¡æ¯ï¼‰
   - ç¼–è¾‘æ­Œæ›²ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æ­Œæ‰‹ã€ä¸“è¾‘ã€æµæ´¾ã€æ ‡ç­¾ã€æ­Œè¯ç­‰ï¼‰
   - ä¸Šä¼ /æ›´æ¢æ­Œæ›²å°é¢
   - åˆ é™¤æ­Œæ›²

2. ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼š
   - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
   - ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯
   - åˆ é™¤ç”¨æˆ·
   - è®¾ç½®ç®¡ç†å‘˜æƒé™

3. å…¬å‘Šç®¡ç†åŠŸèƒ½ï¼š
   - å‘å¸ƒæ–°å…¬å‘Š
   - ç¼–è¾‘å…¬å‘Šå†…å®¹
   - è®¾ç½®å…¬å‘Šæœ‰æ•ˆæœŸ
   - å¯ç”¨/ç¦ç”¨å…¬å‘Š
   - åˆ é™¤å…¬å‘Š

3.3 æ•°æ®åº“è®¾è®¡

3.3.1 æ•°æ®åº“éœ€æ±‚åˆ†æ

æ•°æ®åº“è®¾è®¡æ˜¯ç³»ç»Ÿè®¾è®¡çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåˆç†çš„æ•°æ®åº“è®¾è®¡èƒ½å¤Ÿä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€ä¸€è‡´æ€§å’Œé«˜æ•ˆè®¿é—®ã€‚æ ¹æ®ç³»ç»Ÿçš„åŠŸèƒ½éœ€æ±‚ï¼Œæ•°æ®åº“éœ€è¦å­˜å‚¨ä»¥ä¸‹æ•°æ®ï¼š

1. ç”¨æˆ·æ•°æ®ï¼šç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€ç™»å½•å‡­è¯ã€ä¸ªäººè®¾ç½®ç­‰ã€‚
2. æ­Œæ›²æ•°æ®ï¼šæ­Œæ›²çš„åŸºæœ¬ä¿¡æ¯ã€æ–‡ä»¶è·¯å¾„ã€æ’­æ”¾ç»Ÿè®¡ç­‰ã€‚
3. æ”¶è—æ•°æ®ï¼šç”¨æˆ·ä¸æ­Œæ›²çš„æ”¶è—å…³ç³»ã€‚
4. æ­Œå•æ•°æ®ï¼šæ­Œå•çš„åŸºæœ¬ä¿¡æ¯ã€æ­Œå•ä¸æ­Œæ›²çš„å…³è”å…³ç³»ã€‚
5. æ’­æ”¾å†å²æ•°æ®ï¼šç”¨æˆ·çš„æ’­æ”¾è®°å½•ã€‚
6. è¯„è®ºæ•°æ®ï¼šç”¨æˆ·å¯¹æ­Œæ›²çš„è¯„è®ºã€‚
7. å…¬å‘Šæ•°æ®ï¼šç³»ç»Ÿå…¬å‘Šä¿¡æ¯ã€‚

3.3.2 æ•°æ®åº“çš„é€»è¾‘è®¾è®¡

æ•°æ®åº“é€»è¾‘è®¾è®¡éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

1. è§„èŒƒåŒ–è®¾è®¡ï¼šéµå¾ªæ•°æ®åº“è®¾è®¡çš„ä¸‰èŒƒå¼ï¼Œå‡å°‘æ•°æ®å†—ä½™ï¼Œé¿å…æ›´æ–°å¼‚å¸¸ã€‚

2. åˆç†çš„è¡¨ç»“æ„ï¼šæ ¹æ®å®ä½“å’Œå…³ç³»è®¾è®¡è¡¨ç»“æ„ï¼Œæ¯ä¸ªè¡¨æœ‰æ˜ç¡®çš„ä¸»é”®ã€‚

3. å¤–é”®çº¦æŸï¼šé€šè¿‡å¤–é”®çº¦æŸä¿è¯æ•°æ®çš„å¼•ç”¨å®Œæ•´æ€§ã€‚

4. ç´¢å¼•ä¼˜åŒ–ï¼šä¸ºå¸¸ç”¨çš„æŸ¥è¯¢å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚

5. æ•°æ®ç±»å‹é€‰æ‹©ï¼šæ ¹æ®æ•°æ®çš„ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚

3.3.3 æ•°æ®è¡¨è®¾è®¡åŠERå›¾

æœ¬ç³»ç»Ÿçš„ä¸»è¦æ•°æ®è¡¨è®¾è®¡å¦‚ä¸‹ï¼š

è¡¨3.1 ç”¨æˆ·è¡¨ï¼ˆuserï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      ç”¨æˆ·ID          æ˜¯          å¦
username        VARCHAR         80      ç”¨æˆ·å          å¦          å¦
password        VARCHAR         128     å¯†ç             å¦          å¦
is_admin        BOOLEAN         1       æ˜¯å¦ç®¡ç†å‘˜      å¦          å¦
avatar_path     VARCHAR         300     å¤´åƒè·¯å¾„        å¦          å¦
gender          VARCHAR         10      æ€§åˆ«            å¦          å¦
birthday        VARCHAR         20      ç”Ÿæ—¥            å¦          å¦
region          VARCHAR         100     åœ°åŒº            å¦          å¦
created_at      DATETIME        -       åˆ›å»ºæ—¶é—´        å¦          å¦

è¡¨3.2 æ­Œæ›²è¡¨ï¼ˆsongï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      æ­Œæ›²ID          æ˜¯          å¦
title           VARCHAR         200     æ­Œæ›²æ ‡é¢˜        å¦          å¦
artist          VARCHAR         200     æ­Œæ‰‹            å¦          å¦
album           VARCHAR         200     ä¸“è¾‘            å¦          å¦
duration        INTEGER         11      æ—¶é•¿(ç§’)        å¦          å¦
genre           VARCHAR         100     æµæ´¾            å¦          å¦
tags            VARCHAR         200     æ ‡ç­¾            å¦          å¦
lyrics          TEXT            -       æ­Œè¯            å¦          å¦
cover_path      VARCHAR         300     å°é¢è·¯å¾„        å¦          å¦
file_path       VARCHAR         300     æ–‡ä»¶è·¯å¾„        å¦          å¦
play_count      INTEGER         11      æ’­æ”¾æ¬¡æ•°        å¦          å¦
like_count      INTEGER         11      ç‚¹èµæ•°          å¦          å¦
release_date    VARCHAR         20      å‘è¡Œæ—¥æœŸ        å¦          å¦
created_at      DATETIME        -       åˆ›å»ºæ—¶é—´        å¦          å¦

è¡¨3.3 æ”¶è—è¡¨ï¼ˆfavoriteï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      æ”¶è—ID          æ˜¯          å¦
song_id         INTEGER         11      æ­Œæ›²ID          å¦          æ˜¯
user_id         INTEGER         11      ç”¨æˆ·ID          å¦          æ˜¯
created_at      DATETIME        -       æ”¶è—æ—¶é—´        å¦          å¦

è¡¨3.4 æ­Œå•è¡¨ï¼ˆplaylistï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      æ­Œå•ID          æ˜¯          å¦
user_id         INTEGER         11      ç”¨æˆ·ID          å¦          æ˜¯
name            VARCHAR         200     æ­Œå•åç§°        å¦          å¦
description     TEXT            -       æ­Œå•æè¿°        å¦          å¦
cover_path      VARCHAR         300     å°é¢è·¯å¾„        å¦          å¦
is_public       BOOLEAN         1       æ˜¯å¦å…¬å¼€        å¦          å¦
created_at      DATETIME        -       åˆ›å»ºæ—¶é—´        å¦          å¦
updated_at      DATETIME        -       æ›´æ–°æ—¶é—´        å¦          å¦

è¡¨3.5 æ­Œå•æ­Œæ›²å…³è”è¡¨ï¼ˆplaylist_songï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      å…³è”ID          æ˜¯          å¦
playlist_id     INTEGER         11      æ­Œå•ID          å¦          æ˜¯
song_id         INTEGER         11      æ­Œæ›²ID          å¦          æ˜¯
added_at        DATETIME        -       æ·»åŠ æ—¶é—´        å¦          å¦

è¡¨3.6 æ’­æ”¾å†å²è¡¨ï¼ˆplay_historyï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      è®°å½•ID          æ˜¯          å¦
user_id         INTEGER         11      ç”¨æˆ·ID          å¦          æ˜¯
song_id         INTEGER         11      æ­Œæ›²ID          å¦          æ˜¯
play_progress   INTEGER         11      æ’­æ”¾è¿›åº¦        å¦          å¦
played_at       DATETIME        -       æ’­æ”¾æ—¶é—´        å¦          å¦

è¡¨3.7 è¯„è®ºè¡¨ï¼ˆcommentï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      è¯„è®ºID          æ˜¯          å¦
song_id         INTEGER         11      æ­Œæ›²ID          å¦          æ˜¯
user_id         INTEGER         11      ç”¨æˆ·ID          å¦          æ˜¯
parent_id       INTEGER         11      çˆ¶è¯„è®ºID        å¦          æ˜¯
content         TEXT            -       è¯„è®ºå†…å®¹        å¦          å¦
location        VARCHAR         50      IPå±åœ°          å¦          å¦
ip_address      VARCHAR         50      IPåœ°å€          å¦          å¦
created_at      DATETIME        -       è¯„è®ºæ—¶é—´        å¦          å¦

è¡¨3.8 è¯„è®ºç‚¹èµè¡¨ï¼ˆcomment_likeï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      ç‚¹èµID          æ˜¯          å¦
comment_id      INTEGER         11      è¯„è®ºID          å¦          æ˜¯
user_id         INTEGER         11      ç”¨æˆ·ID          å¦          æ˜¯
created_at      DATETIME        -       ç‚¹èµæ—¶é—´        å¦          å¦

è¡¨3.9 å…¬å‘Šè¡¨ï¼ˆannouncementï¼‰
å­—æ®µå          æ•°æ®ç±»å‹        é•¿åº¦    å­—æ®µå«ä¹‰        æ˜¯å¦ä¸»é”®    æ˜¯å¦å¤–é”®
id              INTEGER         11      å…¬å‘ŠID          æ˜¯          å¦
title           VARCHAR         200     å…¬å‘Šæ ‡é¢˜        å¦          å¦
content         TEXT            -       å…¬å‘Šå†…å®¹        å¦          å¦
is_active       BOOLEAN         1       æ˜¯å¦å¯ç”¨        å¦          å¦
expire_at       DATETIME        -       è¿‡æœŸæ—¶é—´        å¦          å¦
created_at      DATETIME        -       åˆ›å»ºæ—¶é—´        å¦          å¦
updated_at      DATETIME        -       æ›´æ–°æ—¶é—´        å¦          å¦

æ•°æ®åº“E-Rå›¾è¯´æ˜ï¼š

ç³»ç»Ÿçš„ä¸»è¦å®ä½“åŒ…æ‹¬ï¼šç”¨æˆ·ï¼ˆUserï¼‰ã€æ­Œæ›²ï¼ˆSongï¼‰ã€æ­Œå•ï¼ˆPlaylistï¼‰ã€å…¬å‘Šï¼ˆAnnouncementï¼‰ã€‚

å®ä½“ä¹‹é—´çš„å…³ç³»ï¼š
- ç”¨æˆ·ä¸æ­Œæ›²ï¼šå¤šå¯¹å¤šå…³ç³»ï¼ˆé€šè¿‡æ”¶è—è¡¨å…³è”ï¼‰
- ç”¨æˆ·ä¸æ­Œå•ï¼šä¸€å¯¹å¤šå…³ç³»ï¼ˆä¸€ä¸ªç”¨æˆ·å¯ä»¥åˆ›å»ºå¤šä¸ªæ­Œå•ï¼‰
- æ­Œå•ä¸æ­Œæ›²ï¼šå¤šå¯¹å¤šå…³ç³»ï¼ˆé€šè¿‡æ­Œå•æ­Œæ›²å…³è”è¡¨å…³è”ï¼‰
- ç”¨æˆ·ä¸æ’­æ”¾å†å²ï¼šä¸€å¯¹å¤šå…³ç³»
- ç”¨æˆ·ä¸è¯„è®ºï¼šä¸€å¯¹å¤šå…³ç³»
- æ­Œæ›²ä¸è¯„è®ºï¼šä¸€å¯¹å¤šå…³ç³»
- è¯„è®ºä¸è¯„è®ºï¼šä¸€å¯¹å¤šå…³ç³»ï¼ˆè¯„è®ºå›å¤ï¼Œé€šè¿‡parent_idè‡ªå…³è”ï¼‰
- ç”¨æˆ·ä¸è¯„è®ºç‚¹èµï¼šå¤šå¯¹å¤šå…³ç³»ï¼ˆé€šè¿‡è¯„è®ºç‚¹èµè¡¨å…³è”ï¼‰


ç¬¬å››ç«  ç³»ç»Ÿå®ç°

4.1 ä¸»è¦ç•Œé¢å®ç°

æœ¬ç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢é‡‡ç”¨Vue.jsæ¡†æ¶å¼€å‘ï¼Œä½¿ç”¨Element Plusä½œä¸ºUIç»„ä»¶åº“ï¼Œæ•´ä½“è®¾è®¡é£æ ¼é‡‡ç”¨æ°´å¢¨ä¸¹é’ä¸­å›½é£ä¸»é¢˜ï¼Œç•Œé¢ç®€æ´ç¾è§‚ï¼Œæ“ä½œä¾¿æ·ã€‚

4.1.1 ç”¨æˆ·ç™»å½•ä¸æ³¨å†Œ

ç™»å½•é¡µé¢é‡‡ç”¨å·¦å³åˆ†æ å¸ƒå±€ï¼Œå·¦ä¾§ä¸ºå“ç‰Œå±•ç¤ºåŒºåŸŸï¼Œæ˜¾ç¤ºç³»ç»ŸLogoå’Œæ ‡è¯­ï¼Œé‡‡ç”¨æ·±é’è‰²èƒŒæ™¯é…åˆé»‘èƒ¶å”±ç‰‡å›¾æ ‡è®¾è®¡ï¼›å³ä¾§ä¸ºç™»å½•è¡¨å•åŒºåŸŸï¼ŒåŒ…å«ç”¨æˆ·åè¾“å…¥æ¡†ã€å¯†ç è¾“å…¥æ¡†å’Œç™»å½•æŒ‰é’®ã€‚

æ³¨å†Œé¡µé¢ä¸ç™»å½•é¡µé¢å¸ƒå±€ç±»ä¼¼ï¼Œå¢åŠ äº†å¤´åƒä¸Šä¼ åŠŸèƒ½å’Œå¯†ç ç¡®è®¤è¾“å…¥æ¡†ã€‚ç”¨æˆ·å¯ä»¥åœ¨æ³¨å†Œæ—¶ä¸Šä¼ ä¸ªäººå¤´åƒï¼Œç³»ç»Ÿä¼šå¯¹å¯†ç è¿›è¡Œæ ¼å¼éªŒè¯ã€‚

ç™»å½•åŠŸèƒ½çš„å‰ç«¯å®ç°ä»£ç ï¼š

```javascript
const handleLogin = async () => {
  if (!form.value.username || !form.value.password) {
    msg.value = "ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º";
    msgType.value = "warning";
    return;
  }
  loading.value = true;
  try {
    const res = await api.post("/login", {
      username: form.value.username,
      password: form.value.password,
    });
    msg.value = "ç™»å½•æˆåŠŸ";
    msgType.value = "success";
    localStorage.setItem("user_id", res.data.user_id);
    localStorage.setItem("is_admin", res.data.is_admin ? "1" : "0");
    localStorage.setItem("username", res.data.username || "");
    if (res.data.avatar_url) {
      localStorage.setItem("avatar_url", res.data.avatar_url);
    }
    ElMessage.success("ç™»å½•æˆåŠŸ");
    router.push("/");
  } catch (e) {
    msg.value = e.response?.data?.msg || "ç™»å½•å¤±è´¥";
    msgType.value = "error";
  } finally {
    loading.value = false;
  }
};
```

4.1.2 é¦–é¡µ

é¦–é¡µæ˜¯ç”¨æˆ·è¿›å…¥ç³»ç»Ÿåçš„ä¸»è¦é¡µé¢ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. é¡¶éƒ¨å¯¼èˆªæ ï¼šæ˜¾ç¤ºç³»ç»ŸLogoã€ä¸»å¯¼èˆªèœå•ã€æœç´¢æ¡†ã€ç”¨æˆ·ä¿¡æ¯ç­‰ã€‚å¯¼èˆªæ é‡‡ç”¨æµ…é’ç™½æ¸å˜èƒŒæ™¯ï¼Œåº•éƒ¨æœ‰é‡‘è‰²è£…é¥°çº¿ã€‚

2. å…¬å‘ŠåŒºåŸŸï¼šæ˜¾ç¤ºç³»ç»Ÿæœ€æ–°å…¬å‘Šï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»æŸ¥çœ‹å…¬å‘Šè¯¦æƒ…ã€‚

3. ä¸ºä½ æ¨èåŒºåŸŸï¼šå±•ç¤ºAIæ™ºèƒ½æ¨èçš„æ­Œæ›²ï¼Œä»¥å¡ç‰‡å½¢å¼å±•ç¤ºæ­Œæ›²å°é¢ã€æ ‡é¢˜ã€æ­Œæ‰‹ä¿¡æ¯ã€‚

4. æœ€æ–°ä¸Šä¼ åŒºåŸŸï¼šå±•ç¤ºæœ€æ–°ä¸Šä¼ çš„æ­Œæ›²åˆ—è¡¨ï¼ŒåŒ…å«åºå·ã€æ­Œæ›²åã€æ­Œæ‰‹ã€æ—¶é•¿ç­‰ä¿¡æ¯ã€‚

5. åˆ†ç±»æµè§ˆåŒºåŸŸï¼šç”¨æˆ·å¯ä»¥æŒ‰æµæ´¾ã€è¯­ç§ç­‰åˆ†ç±»æµè§ˆéŸ³ä¹ã€‚

6. æ’è¡Œæ¦œåŒºåŸŸï¼šå±•ç¤ºçƒ­é—¨æ­Œæ›²æ’è¡Œæ¦œã€‚

é¦–é¡µçš„å¸ƒå±€ä»£ç ç¤ºä¾‹ï¼š

```vue
<template>
  <div class="home-container">
    <!-- å…¬å‘ŠåŒºåŸŸ -->
    <div v-if="announcements.length > 0" class="announcement-section">
      <div class="ann-header">
        <span>å…¬å‘Š</span>
      </div>
      <div class="ann-list">
        <div v-for="ann in announcements" :key="ann.id" class="ann-item">
          <span class="ann-text">{{ ann.title }}</span>
        </div>
      </div>
    </div>

    <!-- ä¸ºä½ æ¨è -->
    <div class="section">
      <div class="section-header">
        <h3>ğŸµ ä¸ºä½ æ¨è</h3>
      </div>
      <div class="song-grid">
        <div v-for="song in recommendedSongs" :key="song.id" class="song-card">
          <div class="card-cover" @click="play(song)">
            <img v-if="song.cover_url" :src="song.cover_url" alt="" />
            <div v-else class="cover-placeholder">â™ª</div>
          </div>
          <div class="card-info">
            <div class="card-title">{{ song.title }}</div>
            <div class="card-artist">{{ song.artist }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
```

4.1.3 æ­Œæ›²è¯¦æƒ…é¡µ

æ­Œæ›²è¯¦æƒ…é¡µå±•ç¤ºæ­Œæ›²çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š

1. æ­Œæ›²å°é¢ï¼šå¤§å°ºå¯¸å±•ç¤ºæ­Œæ›²å°é¢å›¾ç‰‡ï¼Œæ— å°é¢æ—¶æ˜¾ç¤ºéŸ³ç¬¦å›¾æ ‡å ä½ã€‚
2. æ­Œæ›²ä¿¡æ¯ï¼šæ ‡é¢˜ã€æ­Œæ‰‹ã€ä¸“è¾‘ã€æµæ´¾ã€å‘è¡Œæ—¥æœŸç­‰ã€‚
3. æ“ä½œæŒ‰é’®ï¼šæ’­æ”¾/æš‚åœã€æ”¶è—ã€æ·»åŠ åˆ°æ­Œå•ã€ä¸‹è½½ç­‰ï¼ŒæŒ‰é’®é‡‡ç”¨ç»Ÿä¸€çš„ç™½è‰²åœ†è§’èƒ¶å›Šæ ·å¼ã€‚
4. æ­Œè¯å±•ç¤ºï¼šæ˜¾ç¤ºæ­Œæ›²çš„å®Œæ•´æ­Œè¯ï¼Œæ”¯æŒLRCæ ¼å¼æ­Œè¯è§£æå’Œå½“å‰æ’­æ”¾è¡Œé«˜äº®ã€‚
5. è¯„è®ºåŒºåŸŸï¼šç”¨æˆ·å¯ä»¥æŸ¥çœ‹å’Œå‘è¡¨è¯„è®ºï¼Œè¯„è®ºåŠŸèƒ½åŒ…æ‹¬ï¼š
   - è¯„è®ºå‘è¡¨ï¼šç”¨æˆ·ç™»å½•åå¯å‘è¡¨è¯„è®ºï¼Œè¯„è®ºå†…å®¹ç»è¿‡AIå†…å®¹å®¡æ ¸
   - IPå±åœ°æ˜¾ç¤ºï¼šè¯„è®ºæ˜¾ç¤ºç”¨æˆ·çš„IPå±åœ°ï¼ˆçœä»½ï¼‰ï¼Œæ ¼å¼ä¸º"IPå±åœ°ï¼šç¦å»º"
   - è¯„è®ºç‚¹èµï¼šç”¨æˆ·å¯å¯¹è¯„è®ºè¿›è¡Œç‚¹èµï¼Œä»¥çº¢è‰²å¿ƒå½¢å›¾æ ‡è¡¨ç¤ºï¼Œæ˜¾ç¤ºç‚¹èµæ•°é‡
   - è¯„è®ºå›å¤ï¼šç”¨æˆ·å¯å¯¹è¯„è®ºè¿›è¡Œå›å¤ï¼Œå›å¤å†…å®¹æ˜¾ç¤ºåœ¨ä¸»è¯„è®ºä¸‹æ–¹
   - è¯„è®ºåˆ é™¤ï¼šç”¨æˆ·å¯åˆ é™¤è‡ªå·±å‘è¡¨çš„è¯„è®ºï¼Œç®¡ç†å‘˜å¯åˆ é™¤ä»»ä½•è¯„è®º

4.1.4 æˆ‘çš„æ”¶è—

æˆ‘çš„æ”¶è—é¡µé¢å±•ç¤ºç”¨æˆ·æ”¶è—çš„æ‰€æœ‰æ­Œæ›²ï¼Œä»¥åˆ—è¡¨å½¢å¼å±•ç¤ºï¼ŒåŒ…å«æ­Œæ›²å°é¢ã€æ ‡é¢˜ã€æ­Œæ‰‹ã€æ—¶é•¿ç­‰ä¿¡æ¯ã€‚ç”¨æˆ·å¯ä»¥ç›´æ¥æ’­æ”¾æ”¶è—çš„æ­Œæ›²ï¼Œä¹Ÿå¯ä»¥å–æ¶ˆæ”¶è—ã€‚

4.1.5 æˆ‘çš„æ­Œå•

æˆ‘çš„æ­Œå•é¡µé¢å±•ç¤ºç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰æ­Œå•ã€‚ç”¨æˆ·å¯ä»¥ï¼š
- åˆ›å»ºæ–°æ­Œå•ï¼šå¡«å†™æ­Œå•åç§°ã€æè¿°ï¼Œä¸Šä¼ å°é¢å›¾ç‰‡ã€‚
- ç¼–è¾‘æ­Œå•ï¼šä¿®æ”¹æ­Œå•çš„åŸºæœ¬ä¿¡æ¯ã€‚
- åˆ é™¤æ­Œå•ï¼šåˆ é™¤ä¸éœ€è¦çš„æ­Œå•ã€‚
- æŸ¥çœ‹æ­Œå•è¯¦æƒ…ï¼šè¿›å…¥æ­Œå•è¯¦æƒ…é¡µï¼ŒæŸ¥çœ‹æ­Œå•ä¸­çš„æ‰€æœ‰æ­Œæ›²ã€‚

æ­Œå•è¯¦æƒ…é¡µå±•ç¤ºæ­Œå•çš„åŸºæœ¬ä¿¡æ¯å’ŒåŒ…å«çš„æ­Œæ›²åˆ—è¡¨ï¼Œç”¨æˆ·å¯ä»¥æ’­æ”¾æ•´ä¸ªæ­Œå•ï¼Œä¹Ÿå¯ä»¥ä»æ­Œå•ä¸­ç§»é™¤æ­Œæ›²ã€‚

4.1.6 æ’­æ”¾å†å²

æ’­æ”¾å†å²é¡µé¢å±•ç¤ºç”¨æˆ·çš„æ’­æ”¾è®°å½•ï¼ŒæŒ‰æ—¶é—´å€’åºæ’åˆ—ã€‚ç”¨æˆ·å¯ä»¥ï¼š
- æŸ¥çœ‹æ’­æ”¾å†å²åˆ—è¡¨
- ä»å†å²è®°å½•ä¸­æ’­æ”¾æ­Œæ›²
- æ¸…é™¤æ’­æ”¾å†å²

4.1.7 ä¸ªäººä¸­å¿ƒ

ä¸ªäººä¸­å¿ƒé¡µé¢å…è®¸ç”¨æˆ·ç®¡ç†è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
- å¤´åƒä¿®æ”¹ï¼šä¸Šä¼ æ–°çš„å¤´åƒå›¾ç‰‡
- åŸºæœ¬ä¿¡æ¯ä¿®æ”¹ï¼šæ€§åˆ«ã€ç”Ÿæ—¥ã€åœ°åŒºç­‰
- å¯†ç ä¿®æ”¹ï¼šä¿®æ”¹ç™»å½•å¯†ç 

ä¸ªäººä¸­å¿ƒé¡µé¢é‡‡ç”¨è¡¨å•å¸ƒå±€ï¼Œç”¨æˆ·ä¿®æ”¹ä¿¡æ¯åç‚¹å‡»ä¿å­˜æŒ‰é’®æäº¤æ›´æ”¹ã€‚

4.1.8 ç®¡ç†å‘˜åå°

ç®¡ç†å‘˜åå°åŒ…å«ä¸‰ä¸ªä¸»è¦ç®¡ç†é¡µé¢ï¼š

1. æ­Œæ›²ç®¡ç†é¡µé¢ï¼š
   - æ­Œæ›²åˆ—è¡¨ï¼šå±•ç¤ºæ‰€æœ‰æ­Œæ›²ï¼Œæ”¯æŒæœç´¢å’Œåˆ†é¡µ
   - æ·»åŠ æ­Œæ›²ï¼šä¸Šä¼ éŸ³é¢‘æ–‡ä»¶ï¼Œå¡«å†™æ­Œæ›²ä¿¡æ¯
   - ç¼–è¾‘æ­Œæ›²ï¼šä¿®æ”¹æ­Œæ›²ä¿¡æ¯ï¼Œæ›´æ¢å°é¢
   - åˆ é™¤æ­Œæ›²ï¼šåˆ é™¤æ­Œæ›²åŠç›¸å…³æ•°æ®

2. ç”¨æˆ·ç®¡ç†é¡µé¢ï¼š
   - ç”¨æˆ·åˆ—è¡¨ï¼šå±•ç¤ºæ‰€æœ‰ç”¨æˆ·
   - ç¼–è¾‘ç”¨æˆ·ï¼šä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
   - åˆ é™¤ç”¨æˆ·ï¼šåˆ é™¤ç”¨æˆ·è´¦å·

3. å…¬å‘Šç®¡ç†é¡µé¢ï¼š
   - å…¬å‘Šåˆ—è¡¨ï¼šå±•ç¤ºæ‰€æœ‰å…¬å‘Š
   - å‘å¸ƒå…¬å‘Šï¼šåˆ›å»ºæ–°å…¬å‘Š
   - ç¼–è¾‘å…¬å‘Šï¼šä¿®æ”¹å…¬å‘Šå†…å®¹
   - åˆ é™¤å…¬å‘Šï¼šåˆ é™¤å…¬å‘Š

4.2 ä¸»è¦åŠŸèƒ½ç¨‹åºçš„å®ç°

4.2.1 æ•°æ®åº“è¿æ¥çš„å»ºç«‹

æœ¬ç³»ç»Ÿä½¿ç”¨Flask-SQLAlchemyæ‰©å±•è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚æ•°æ®åº“è¿æ¥é…ç½®å¦‚ä¸‹ï¼š

```python
from flask import Flask
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.config["SQLALCHEMY_DATABASE_URI"] = "mysql+pymysql://root:123456@127.0.0.1:3306/music_db?charset=utf8mb4"
app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False

db = SQLAlchemy(app)
```

æ•°æ®æ¨¡å‹å®šä¹‰ç¤ºä¾‹ï¼ˆç”¨æˆ·æ¨¡å‹ï¼‰ï¼š

```python
class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(80), unique=True, nullable=False)
    password = db.Column(db.String(128), nullable=False)
    is_admin = db.Column(db.Boolean, default=False)
    avatar_path = db.Column(db.String(300), nullable=True)
    gender = db.Column(db.String(10), nullable=True)
    birthday = db.Column(db.String(20), nullable=True)
    region = db.Column(db.String(100), nullable=True)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

æ­Œæ›²æ¨¡å‹å®šä¹‰ï¼š

```python
class Song(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(200), nullable=False)
    artist = db.Column(db.String(200))
    album = db.Column(db.String(200))
    duration = db.Column(db.Integer)
    genre = db.Column(db.String(100))
    tags = db.Column(db.String(200))
    lyrics = db.Column(db.Text)
    cover_path = db.Column(db.String(300))
    file_path = db.Column(db.String(300), nullable=False)
    play_count = db.Column(db.Integer, default=0)
    like_count = db.Column(db.Integer, default=0)
    release_date = db.Column(db.String(20))
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

4.2.2 ç”¨æˆ·ç™»å½•ä¸æ³¨å†Œ

ç”¨æˆ·æ³¨å†Œæ¥å£å®ç°ï¼š

```python
@app.route("/api/register", methods=["POST"])
def register():
    data = request.json
    username = data.get("username")
    password = data.get("password")
    if not username or not password:
        return jsonify({"msg": "username and password required"}), 400
    if User.query.filter_by(username=username).first():
        return jsonify({"msg": "username already exists"}), 400
    user = User(username=username, password=password)
    db.session.add(user)
    db.session.commit()
    return jsonify({"msg": "register success", "user_id": user.id})
```

ç”¨æˆ·ç™»å½•æ¥å£å®ç°ï¼š

```python
@app.route("/api/login", methods=["POST"])
def login():
    data = request.json
    username = data.get("username")
    password = data.get("password")
    user = User.query.filter_by(username=username, password=password).first()
    if not user:
        return jsonify({"msg": "invalid username or password"}), 401
    base_url = request.host_url.strip("/")
    avatar_url = f"{base_url}/api/users/{user.id}/avatar" if user.avatar_path else None
    return jsonify({
        "msg": "login success", 
        "user_id": user.id, 
        "is_admin": user.is_admin,
        "username": user.username,
        "avatar_url": avatar_url
    })
```

4.2.3 éŸ³ä¹æ’­æ”¾åŠŸèƒ½

éŸ³ä¹æ’­æ”¾åŠŸèƒ½çš„æ ¸å¿ƒæ˜¯å‰ç«¯çš„æ’­æ”¾å™¨ç»„ä»¶ã€‚æ’­æ”¾å™¨ä½¿ç”¨HTML5çš„Audio APIå®ç°ï¼Œæ”¯æŒæ’­æ”¾æ§åˆ¶ã€è¿›åº¦æ§åˆ¶ã€éŸ³é‡æ§åˆ¶ç­‰åŠŸèƒ½ã€‚

æ’­æ”¾å™¨çŠ¶æ€ç®¡ç†ï¼ˆä½¿ç”¨Piniaï¼‰ï¼š

```javascript
import { reactive, ref } from 'vue';

export const PLAY_MODES = {
  LOOP: 'loop',      // åˆ—è¡¨å¾ªç¯
  SINGLE: 'single',  // å•æ›²å¾ªç¯
  RANDOM: 'random',  // éšæœºæ’­æ”¾
  ORDER: 'order',    // é¡ºåºæ’­æ”¾
};

export const playerState = reactive({
  currentSong: null,
  isPlaying: false,
  currentTime: 0,
  duration: 0,
  volume: 0.8,
  playMode: PLAY_MODES.LOOP,
  playlist: [],
  currentIndex: 0,
});

export const audioRef = ref(null);

export function playSong(song, playlist = []) {
  playerState.currentSong = song;
  playerState.playlist = playlist.length ? playlist : [song];
  playerState.currentIndex = playerState.playlist.findIndex(s => s.id === song.id);
  playerState.isPlaying = true;
}

export function playNext() {
  if (playerState.playlist.length === 0) return;
  let nextIndex;
  if (playerState.playMode === PLAY_MODES.RANDOM) {
    nextIndex = Math.floor(Math.random() * playerState.playlist.length);
  } else {
    nextIndex = (playerState.currentIndex + 1) % playerState.playlist.length;
  }
  playerState.currentIndex = nextIndex;
  playerState.currentSong = playerState.playlist[nextIndex];
}

export function playPrev() {
  if (playerState.playlist.length === 0) return;
  let prevIndex = playerState.currentIndex - 1;
  if (prevIndex < 0) prevIndex = playerState.playlist.length - 1;
  playerState.currentIndex = prevIndex;
  playerState.currentSong = playerState.playlist[prevIndex];
}
```

åç«¯éŸ³ä¹æ’­æ”¾æ¥å£ï¼š

```python
@app.route("/api/songs/<int:song_id>/play", methods=["GET"])
def play_song(song_id):
    song = Song.query.get_or_404(song_id)
    if not os.path.exists(song.file_path):
        return jsonify({"msg": "audio file not found"}), 404
    directory, filename = os.path.split(song.file_path)
    return send_from_directory(directory, filename)
```

4.2.4 AIæ™ºèƒ½æ¨èåŠŸèƒ½

AIæ™ºèƒ½æ¨èåŠŸèƒ½æ ¹æ®ç”¨æˆ·çš„æ’­æ”¾å†å²å’Œæ”¶è—è®°å½•ï¼Œä¸ºç”¨æˆ·æ¨èå¯èƒ½å–œæ¬¢çš„éŸ³ä¹ã€‚æ¨èç®—æ³•ç»¼åˆè€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š

1. ç”¨æˆ·æ’­æ”¾å†å²ï¼šåˆ†æç”¨æˆ·æœ€è¿‘æ’­æ”¾çš„æ­Œæ›²ï¼Œæå–æµæ´¾ã€æ ‡ç­¾ç­‰ç‰¹å¾ã€‚
2. ç”¨æˆ·æ”¶è—è®°å½•ï¼šåˆ†æç”¨æˆ·æ”¶è—çš„æ­Œæ›²ï¼Œäº†è§£ç”¨æˆ·çš„éŸ³ä¹åå¥½ã€‚
3. æ­Œæ›²çƒ­åº¦ï¼šè€ƒè™‘æ­Œæ›²çš„æ’­æ”¾æ¬¡æ•°å’Œç‚¹èµæ•°ã€‚
4. æ—¶é—´å› ç´ ï¼šæœ€è¿‘çš„è¡Œä¸ºæƒé‡æ›´é«˜ã€‚

æ™ºèƒ½æ¨èæ¥å£å®ç°ï¼š

```python
@app.route("/api/ai/smart-sort", methods=["GET"])
def smart_sort():
    user_id = request.args.get("user_id")
    sort_type = request.args.get("sort", "smart")
    limit = int(request.args.get("limit", 20))
    
    if sort_type == "latest":
        songs = Song.query.order_by(Song.created_at.desc()).limit(limit).all()
    elif sort_type == "hot":
        songs = Song.query.order_by(Song.play_count.desc()).limit(limit).all()
    elif sort_type == "smart" and user_id:
        # è·å–ç”¨æˆ·åå¥½
        user_preferences = analyze_user_preferences(user_id)
        # åŸºäºåå¥½æ¨è
        songs = recommend_songs(user_preferences, limit)
    else:
        songs = Song.query.order_by(Song.play_count.desc()).limit(limit).all()
    
    base_url = request.host_url.strip("/")
    return jsonify([song_to_dict(s, base_url) for s in songs])
```

ç”¨æˆ·åå¥½åˆ†æå‡½æ•°ï¼š

```python
def analyze_user_preferences(user_id):
    # è·å–ç”¨æˆ·æ’­æ”¾å†å²
    history = PlayHistory.query.filter_by(user_id=user_id)\
        .order_by(PlayHistory.played_at.desc()).limit(50).all()
    
    # è·å–ç”¨æˆ·æ”¶è—
    favorites = Favorite.query.filter_by(user_id=user_id).all()
    
    # ç»Ÿè®¡æµæ´¾åå¥½
    genre_count = {}
    for record in history:
        song = Song.query.get(record.song_id)
        if song and song.genre:
            genre_count[song.genre] = genre_count.get(song.genre, 0) + 1
    
    # ç»Ÿè®¡æ ‡ç­¾åå¥½
    tag_count = {}
    for record in history:
        song = Song.query.get(record.song_id)
        if song and song.tags:
            for tag in song.tags.split(","):
                tag = tag.strip()
                tag_count[tag] = tag_count.get(tag, 0) + 1
    
    return {
        "preferred_genres": sorted(genre_count.items(), key=lambda x: x[1], reverse=True),
        "preferred_tags": sorted(tag_count.items(), key=lambda x: x[1], reverse=True),
        "favorite_song_ids": [f.song_id for f in favorites]
    }
```


ç¬¬äº”ç«  ç³»ç»Ÿçš„æµ‹è¯•

5.1 è½¯ä»¶æµ‹è¯•çš„ç›®çš„å’ŒåŸåˆ™

è½¯ä»¶æµ‹è¯•æ˜¯è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„é‡è¦ç¯èŠ‚ï¼Œå…¶ç›®çš„æ˜¯å‘ç°è½¯ä»¶ä¸­çš„ç¼ºé™·å’Œé”™è¯¯ï¼Œç¡®ä¿è½¯ä»¶çš„è´¨é‡æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚é€šè¿‡ç³»ç»Ÿçš„æµ‹è¯•ï¼Œå¯ä»¥éªŒè¯è½¯ä»¶çš„åŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€æ€§èƒ½æ˜¯å¦è¾¾æ ‡ã€å®‰å…¨æ€§æ˜¯å¦å¯é ã€‚

è½¯ä»¶æµ‹è¯•çš„åŸºæœ¬åŸåˆ™åŒ…æ‹¬ï¼š

1. å°½æ—©æµ‹è¯•åŸåˆ™ï¼šæµ‹è¯•åº”è¯¥å°½æ—©å¼€å§‹ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å°±è¿›è¡Œæµ‹è¯•ï¼Œè€Œä¸æ˜¯ç­‰åˆ°å¼€å‘å®Œæˆåæ‰å¼€å§‹ã€‚

2. å…¨é¢æµ‹è¯•åŸåˆ™ï¼šæµ‹è¯•åº”è¯¥è¦†ç›–è½¯ä»¶çš„æ‰€æœ‰åŠŸèƒ½å’Œåœºæ™¯ï¼ŒåŒ…æ‹¬æ­£å¸¸æƒ…å†µå’Œå¼‚å¸¸æƒ…å†µã€‚

3. ç‹¬ç«‹æµ‹è¯•åŸåˆ™ï¼šæµ‹è¯•åº”è¯¥ç”±ç‹¬ç«‹çš„æµ‹è¯•äººå‘˜è¿›è¡Œï¼Œé¿å…å¼€å‘äººå‘˜è‡ªå·±æµ‹è¯•è‡ªå·±çš„ä»£ç ã€‚

4. ç¼ºé™·èšé›†åŸåˆ™ï¼šè½¯ä»¶ä¸­çš„ç¼ºé™·å¾€å¾€é›†ä¸­åœ¨æŸäº›æ¨¡å—ä¸­ï¼Œåº”è¯¥é‡ç‚¹æµ‹è¯•è¿™äº›æ¨¡å—ã€‚

5. æ€è™«å‰‚æ‚–è®ºï¼šé‡å¤ä½¿ç”¨ç›¸åŒçš„æµ‹è¯•ç”¨ä¾‹ä¼šé™ä½å‘ç°æ–°ç¼ºé™·çš„èƒ½åŠ›ï¼Œåº”è¯¥ä¸æ–­æ›´æ–°æµ‹è¯•ç”¨ä¾‹ã€‚

æœ¬ç³»ç»Ÿçš„æµ‹è¯•åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š

1. å•å…ƒæµ‹è¯•ï¼šå¯¹ç³»ç»Ÿçš„å„ä¸ªæ¨¡å—è¿›è¡Œç‹¬ç«‹æµ‹è¯•ï¼ŒéªŒè¯æ¨¡å—åŠŸèƒ½çš„æ­£ç¡®æ€§ã€‚

2. é›†æˆæµ‹è¯•ï¼šå°†å„ä¸ªæ¨¡å—ç»„åˆèµ·æ¥è¿›è¡Œæµ‹è¯•ï¼ŒéªŒè¯æ¨¡å—ä¹‹é—´çš„æ¥å£æ˜¯å¦æ­£ç¡®ã€‚

3. ç³»ç»Ÿæµ‹è¯•ï¼šå¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œå…¨é¢æµ‹è¯•ï¼ŒéªŒè¯ç³»ç»Ÿæ˜¯å¦æ»¡è¶³éœ€æ±‚è§„æ ¼è¯´æ˜ã€‚

4. ç”¨æˆ·éªŒæ”¶æµ‹è¯•ï¼šç”±ç”¨æˆ·è¿›è¡Œæµ‹è¯•ï¼ŒéªŒè¯ç³»ç»Ÿæ˜¯å¦æ»¡è¶³ç”¨æˆ·çš„å®é™…éœ€æ±‚ã€‚

5.2 æµ‹è¯•ç”¨ä¾‹è®¾è®¡

æ ¹æ®ç³»ç»Ÿçš„åŠŸèƒ½éœ€æ±‚ï¼Œè®¾è®¡äº†ä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹ï¼š

æµ‹è¯•ç”¨ä¾‹1ï¼šç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼Œæ•°æ®åº“è¿æ¥æ­£å¸¸
æµ‹è¯•æ­¥éª¤ï¼š
1. æ‰“å¼€æ³¨å†Œé¡µé¢
2. è¾“å…¥ç”¨æˆ·åï¼štestuser
3. è¾“å…¥å¯†ç ï¼š123456
4. ç¡®è®¤å¯†ç ï¼š123456
5. ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
é¢„æœŸç»“æœï¼šæ³¨å†ŒæˆåŠŸï¼Œæç¤º"æ³¨å†ŒæˆåŠŸ"ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹2ï¼šç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯ç”¨æˆ·ç™»å½•åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šç”¨æˆ·testuserå·²æ³¨å†Œ
æµ‹è¯•æ­¥éª¤ï¼š
1. æ‰“å¼€ç™»å½•é¡µé¢
2. è¾“å…¥ç”¨æˆ·åï¼štestuser
3. è¾“å…¥å¯†ç ï¼š123456
4. ç‚¹å‡»ç™»å½•æŒ‰é’®
é¢„æœŸç»“æœï¼šç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°é¦–é¡µï¼Œæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹3ï¼šéŸ³ä¹æœç´¢åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯éŸ³ä¹æœç´¢åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šæ•°æ®åº“ä¸­å­˜åœ¨æ­Œæ›²æ•°æ®
æµ‹è¯•æ­¥éª¤ï¼š
1. åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯"å‘¨æ°ä¼¦"
2. ç‚¹å‡»æœç´¢æŒ‰é’®æˆ–æŒ‰å›è½¦é”®
é¢„æœŸç»“æœï¼šæ˜¾ç¤ºåŒ…å«"å‘¨æ°ä¼¦"çš„æ­Œæ›²åˆ—è¡¨
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹4ï¼šéŸ³ä¹æ’­æ”¾åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯éŸ³ä¹æ’­æ”¾åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šæ•°æ®åº“ä¸­å­˜åœ¨å¯æ’­æ”¾çš„æ­Œæ›²
æµ‹è¯•æ­¥éª¤ï¼š
1. åœ¨æ­Œæ›²åˆ—è¡¨ä¸­ç‚¹å‡»æ’­æ”¾æŒ‰é’®
2. è§‚å¯Ÿæ’­æ”¾å™¨çŠ¶æ€
3. ç‚¹å‡»æš‚åœæŒ‰é’®
4. ç‚¹å‡»æ’­æ”¾æŒ‰é’®
5. æ‹–åŠ¨è¿›åº¦æ¡
6. è°ƒèŠ‚éŸ³é‡
é¢„æœŸç»“æœï¼š
- ç‚¹å‡»æ’­æ”¾åï¼Œæ­Œæ›²å¼€å§‹æ’­æ”¾ï¼Œæ’­æ”¾å™¨æ˜¾ç¤ºæ­Œæ›²ä¿¡æ¯
- ç‚¹å‡»æš‚åœåï¼Œæ’­æ”¾æš‚åœ
- å†æ¬¡ç‚¹å‡»æ’­æ”¾åï¼Œç»§ç»­æ’­æ”¾
- æ‹–åŠ¨è¿›åº¦æ¡åï¼Œæ’­æ”¾ä½ç½®æ”¹å˜
- è°ƒèŠ‚éŸ³é‡åï¼ŒéŸ³é‡æ”¹å˜
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹5ï¼šæ”¶è—åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯æ”¶è—åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šç”¨æˆ·å·²ç™»å½•
æµ‹è¯•æ­¥éª¤ï¼š
1. åœ¨æ­Œæ›²è¯¦æƒ…é¡µç‚¹å‡»æ”¶è—æŒ‰é’®
2. è¿›å…¥"æˆ‘çš„æ”¶è—"é¡µé¢
3. å†æ¬¡ç‚¹å‡»æ”¶è—æŒ‰é’®å–æ¶ˆæ”¶è—
é¢„æœŸç»“æœï¼š
- ç‚¹å‡»æ”¶è—åï¼Œæ­Œæ›²æ·»åŠ åˆ°æ”¶è—åˆ—è¡¨
- åœ¨"æˆ‘çš„æ”¶è—"é¡µé¢å¯ä»¥çœ‹åˆ°æ”¶è—çš„æ­Œæ›²
- å–æ¶ˆæ”¶è—åï¼Œæ­Œæ›²ä»æ”¶è—åˆ—è¡¨ç§»é™¤
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹6ï¼šæ­Œå•ç®¡ç†åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯æ­Œå•ç®¡ç†åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šç”¨æˆ·å·²ç™»å½•
æµ‹è¯•æ­¥éª¤ï¼š
1. è¿›å…¥"æˆ‘çš„æ­Œå•"é¡µé¢
2. ç‚¹å‡»"åˆ›å»ºæ­Œå•"æŒ‰é’®
3. è¾“å…¥æ­Œå•åç§°å’Œæè¿°
4. ç‚¹å‡»ç¡®è®¤åˆ›å»º
5. è¿›å…¥æ­Œæ›²è¯¦æƒ…é¡µï¼Œç‚¹å‡»"æ·»åŠ åˆ°æ­Œå•"
6. é€‰æ‹©åˆšåˆ›å»ºçš„æ­Œå•
7. è¿›å…¥æ­Œå•è¯¦æƒ…é¡µæŸ¥çœ‹
é¢„æœŸç»“æœï¼š
- æ­Œå•åˆ›å»ºæˆåŠŸ
- æ­Œæ›²æˆåŠŸæ·»åŠ åˆ°æ­Œå•
- æ­Œå•è¯¦æƒ…é¡µæ˜¾ç¤ºæ·»åŠ çš„æ­Œæ›²
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹7ï¼šç®¡ç†å‘˜æ­Œæ›²ç®¡ç†åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯ç®¡ç†å‘˜æ­Œæ›²ç®¡ç†åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•
æµ‹è¯•æ­¥éª¤ï¼š
1. è¿›å…¥æ­Œæ›²ç®¡ç†é¡µé¢
2. ç‚¹å‡»"æ·»åŠ æ­Œæ›²"æŒ‰é’®
3. ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶ï¼Œå¡«å†™æ­Œæ›²ä¿¡æ¯
4. ç‚¹å‡»ä¿å­˜
5. åœ¨æ­Œæ›²åˆ—è¡¨ä¸­æ‰¾åˆ°æ–°æ·»åŠ çš„æ­Œæ›²
6. ç‚¹å‡»ç¼–è¾‘æŒ‰é’®ï¼Œä¿®æ”¹æ­Œæ›²ä¿¡æ¯
7. ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œåˆ é™¤æ­Œæ›²
é¢„æœŸç»“æœï¼š
- æ­Œæ›²æ·»åŠ æˆåŠŸ
- æ­Œæ›²ä¿¡æ¯ä¿®æ”¹æˆåŠŸ
- æ­Œæ›²åˆ é™¤æˆåŠŸ
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

æµ‹è¯•ç”¨ä¾‹8ï¼šæ’­æ”¾å†å²åŠŸèƒ½æµ‹è¯•
æµ‹è¯•ç›®çš„ï¼šéªŒè¯æ’­æ”¾å†å²åŠŸèƒ½çš„æ­£ç¡®æ€§
å‰ç½®æ¡ä»¶ï¼šç”¨æˆ·å·²ç™»å½•
æµ‹è¯•æ­¥éª¤ï¼š
1. æ’­æ”¾ä¸€é¦–æ­Œæ›²
2. è¿›å…¥"æ’­æ”¾å†å²"é¡µé¢
3. æŸ¥çœ‹æ’­æ”¾å†å²åˆ—è¡¨
é¢„æœŸç»“æœï¼šæ’­æ”¾å†å²åˆ—è¡¨ä¸­æ˜¾ç¤ºåˆšæ‰æ’­æ”¾çš„æ­Œæ›²
å®é™…ç»“æœï¼šä¸é¢„æœŸä¸€è‡´
æµ‹è¯•ç»“è®ºï¼šé€šè¿‡

5.3 æµ‹è¯•ç»“æœåˆ†æ

ç»è¿‡å…¨é¢çš„æµ‹è¯•ï¼Œæœ¬ç³»ç»Ÿçš„å„é¡¹åŠŸèƒ½å‡èƒ½æ­£å¸¸è¿è¡Œï¼Œæµ‹è¯•ç»“æœæ€»ç»“å¦‚ä¸‹ï¼š

1. åŠŸèƒ½æµ‹è¯•ç»“æœï¼š
   - ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼šæ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†ç­‰åŠŸèƒ½æ­£å¸¸
   - éŸ³ä¹æ£€ç´¢åŠŸèƒ½ï¼šæœç´¢ã€åˆ†ç±»æµè§ˆç­‰åŠŸèƒ½æ­£å¸¸
   - æ’­æ”¾åŠŸèƒ½ï¼šæ’­æ”¾ã€æš‚åœã€è¿›åº¦æ§åˆ¶ã€éŸ³é‡æ§åˆ¶ç­‰åŠŸèƒ½æ­£å¸¸
   - æ”¶è—åŠŸèƒ½ï¼šæ”¶è—ã€å–æ¶ˆæ”¶è—åŠŸèƒ½æ­£å¸¸
   - æ­Œå•åŠŸèƒ½ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ­Œå•ï¼Œæ·»åŠ ã€ç§»é™¤æ­Œæ›²åŠŸèƒ½æ­£å¸¸
   - ç®¡ç†åŠŸèƒ½ï¼šæ­Œæ›²ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€å…¬å‘Šç®¡ç†åŠŸèƒ½æ­£å¸¸

2. å…¼å®¹æ€§æµ‹è¯•ç»“æœï¼š
   - Chromeæµè§ˆå™¨ï¼šæ­£å¸¸
   - Firefoxæµè§ˆå™¨ï¼šæ­£å¸¸
   - Edgeæµè§ˆå™¨ï¼šæ­£å¸¸
   - Safariæµè§ˆå™¨ï¼šæ­£å¸¸

3. æ€§èƒ½æµ‹è¯•ç»“æœï¼š
   - é¡µé¢åŠ è½½æ—¶é—´ï¼šå¹³å‡å°äº2ç§’
   - æœç´¢å“åº”æ—¶é—´ï¼šå¹³å‡å°äº1ç§’
   - éŸ³ä¹æ’­æ”¾å»¶è¿Ÿï¼šå°äº0.5ç§’

4. å®‰å…¨æ€§æµ‹è¯•ç»“æœï¼š
   - SQLæ³¨å…¥æµ‹è¯•ï¼šæœªå‘ç°æ¼æ´
   - XSSæ”»å‡»æµ‹è¯•ï¼šæœªå‘ç°æ¼æ´
   - æƒé™éªŒè¯æµ‹è¯•ï¼šæƒé™æ§åˆ¶æ­£å¸¸

æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š

1. é—®é¢˜ï¼šåˆ é™¤æ­Œæ›²æ—¶å‡ºç°å¤–é”®çº¦æŸé”™è¯¯
   åŸå› ï¼šåˆ é™¤æ­Œæ›²æ—¶æœªå…ˆåˆ é™¤å…³è”çš„æ’­æ”¾å†å²ã€æ”¶è—ç­‰è®°å½•
   è§£å†³æ–¹æ¡ˆï¼šåœ¨åˆ é™¤æ­Œæ›²å‰ï¼Œå…ˆåˆ é™¤æ‰€æœ‰å…³è”è®°å½•

2. é—®é¢˜ï¼šå¤§æ–‡ä»¶ä¸Šä¼ è¶…æ—¶
   åŸå› ï¼šæœåŠ¡å™¨é»˜è®¤çš„è¯·æ±‚è¶…æ—¶æ—¶é—´è¾ƒçŸ­
   è§£å†³æ–¹æ¡ˆï¼šå¢åŠ æœåŠ¡å™¨çš„è¯·æ±‚è¶…æ—¶æ—¶é—´é…ç½®

3. é—®é¢˜ï¼šç§»åŠ¨ç«¯ç•Œé¢æ˜¾ç¤ºä¸å®Œæ•´
   åŸå› ï¼šéƒ¨åˆ†æ ·å¼æœªåšå“åº”å¼é€‚é…
   è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ åª’ä½“æŸ¥è¯¢ï¼Œä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤º

ç»¼ä¸Šæ‰€è¿°ï¼Œæœ¬ç³»ç»Ÿç»è¿‡å……åˆ†çš„æµ‹è¯•ï¼ŒåŠŸèƒ½å®Œå–„ï¼Œè¿è¡Œç¨³å®šï¼Œèƒ½å¤Ÿæ»¡è¶³ç”¨æˆ·çš„ä½¿ç”¨éœ€æ±‚ã€‚


ç»“æŸè¯­

æœ¬æ–‡è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŸºäºFlask+Vueçš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿã€‚åœ¨ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ·±å…¥å­¦ä¹ äº†Webåº”ç”¨å¼€å‘çš„ç›¸å…³æŠ€æœ¯ï¼ŒåŒ…æ‹¬Flaskåç«¯æ¡†æ¶ã€Vue.jså‰ç«¯æ¡†æ¶ã€MySQLæ•°æ®åº“ã€RESTful APIè®¾è®¡ç­‰ï¼Œç§¯ç´¯äº†å®è´µçš„å®è·µç»éªŒã€‚

é€šè¿‡æœ¬é¡¹ç›®çš„å¼€å‘ï¼Œæˆ‘æˆåŠŸå®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

1. ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼šåŒ…æ‹¬ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†ç­‰ã€‚

2. éŸ³ä¹æ£€ç´¢åŠŸèƒ½ï¼šæ”¯æŒå…³é”®è¯æœç´¢ã€åˆ†ç±»æµè§ˆã€æœç´¢å†å²ç­‰ã€‚

3. éŸ³ä¹æ’­æ”¾åŠŸèƒ½ï¼šæ”¯æŒåœ¨çº¿æ’­æ”¾ã€æ’­æ”¾æ§åˆ¶ã€å¤šç§æ’­æ”¾æ¨¡å¼ç­‰ã€‚

4. æ”¶è—ä¸æ­Œå•åŠŸèƒ½ï¼šæ”¯æŒæ”¶è—ç®¡ç†ã€æ­Œå•åˆ›å»ºå’Œç®¡ç†ç­‰ã€‚

5. AIæ™ºèƒ½æ¨èåŠŸèƒ½ï¼šæ ¹æ®ç”¨æˆ·è¡Œä¸ºè¿›è¡Œä¸ªæ€§åŒ–éŸ³ä¹æ¨èã€‚

6. ç®¡ç†å‘˜åå°åŠŸèƒ½ï¼šæ”¯æŒæ­Œæ›²ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€å…¬å‘Šç®¡ç†ç­‰ã€‚

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿé‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ï¼Œå¦‚å‰åç«¯æ¥å£å¯¹æ¥ã€è·¨åŸŸé—®é¢˜å¤„ç†ã€éŸ³é¢‘æ–‡ä»¶å¤„ç†ã€æ•°æ®åº“è®¾è®¡ä¼˜åŒ–ç­‰ã€‚é€šè¿‡æŸ¥é˜…èµ„æ–™ã€åå¤è°ƒè¯•ï¼Œæˆ‘æˆåŠŸåœ°è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå¹¶ä»ä¸­å­¦åˆ°äº†å¾ˆå¤šå®è´µçš„ç»éªŒã€‚

å±•æœ›æœªæ¥ï¼Œæœ¬ç³»ç»Ÿè¿˜æœ‰å¾ˆå¤§çš„æ”¹è¿›ç©ºé—´ï¼š

1. åŠŸèƒ½æ‰©å±•ï¼šå¯ä»¥å¢åŠ æ›´å¤šåŠŸèƒ½ï¼Œå¦‚ç¤¾äº¤åˆ†äº«ã€æ­Œè¯åŒæ­¥æ˜¾ç¤ºã€éŸ³ä¹è¯†åˆ«ç­‰ã€‚

2. æ¨èç®—æ³•ä¼˜åŒ–ï¼šå¯ä»¥å¼•å…¥æ›´å…ˆè¿›çš„æ¨èç®—æ³•ï¼Œå¦‚ååŒè¿‡æ»¤ã€æ·±åº¦å­¦ä¹ ç­‰ï¼Œæé«˜æ¨èçš„å‡†ç¡®æ€§ã€‚

3. æ€§èƒ½ä¼˜åŒ–ï¼šå¯ä»¥å¼•å…¥ç¼“å­˜æœºåˆ¶ã€CDNåŠ é€Ÿç­‰æŠ€æœ¯ï¼Œæé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚

4. ç§»åŠ¨ç«¯é€‚é…ï¼šå¯ä»¥å¼€å‘ä¸“é—¨çš„ç§»åŠ¨ç«¯åº”ç”¨ï¼Œæä¾›æ›´å¥½çš„ç§»åŠ¨ç«¯ä½“éªŒã€‚

5. å®‰å…¨æ€§å¢å¼ºï¼šå¯ä»¥å¼•å…¥æ›´å®Œå–„çš„å®‰å…¨æœºåˆ¶ï¼Œå¦‚HTTPSã€JWTè®¤è¯ã€å¯†ç åŠ å¯†ç­‰ã€‚

æ€»ä¹‹ï¼Œé€šè¿‡æœ¬æ¬¡æ¯•ä¸šè®¾è®¡ï¼Œæˆ‘ä¸ä»…å®Œæˆäº†ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„éŸ³ä¹æ£€ç´¢ç³»ç»Ÿï¼Œæ›´é‡è¦çš„æ˜¯æå‡äº†è‡ªå·±çš„è½¯ä»¶å¼€å‘èƒ½åŠ›å’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚è¿™äº›ç»éªŒå°†å¯¹æˆ‘ä»Šåçš„å­¦ä¹ å’Œå·¥ä½œäº§ç”Ÿç§¯æçš„å½±å“ã€‚


è‡´è°¢

åœ¨æœ¬æ¬¡æ¯•ä¸šè®¾è®¡çš„å®Œæˆè¿‡ç¨‹ä¸­ï¼Œæˆ‘å¾—åˆ°äº†è®¸å¤šäººçš„å¸®åŠ©å’Œæ”¯æŒï¼Œåœ¨æ­¤è¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢ã€‚

é¦–å…ˆï¼Œæˆ‘è¦æ„Ÿè°¢æˆ‘çš„æŒ‡å¯¼æ•™å¸ˆã€‚åœ¨æ•´ä¸ªæ¯•ä¸šè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œè€å¸ˆç»™äºˆäº†æˆ‘æ‚‰å¿ƒçš„æŒ‡å¯¼å’Œå¸®åŠ©ï¼Œä»é€‰é¢˜ã€éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡åˆ°ç¼–ç å®ç°ï¼Œè€å¸ˆéƒ½æå‡ºäº†å®è´µçš„æ„è§å’Œå»ºè®®ï¼Œä½¿æˆ‘èƒ½å¤Ÿé¡ºåˆ©å®Œæˆæœ¬æ¬¡æ¯•ä¸šè®¾è®¡ã€‚

å…¶æ¬¡ï¼Œæˆ‘è¦æ„Ÿè°¢æˆ‘çš„åŒå­¦ä»¬ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¸€èµ·è®¨è®ºæŠ€æœ¯é—®é¢˜ï¼Œäº’ç›¸å¸®åŠ©ï¼Œå…±åŒè¿›æ­¥ã€‚ä»–ä»¬çš„æ”¯æŒå’Œé¼“åŠ±ç»™äº†æˆ‘å¾ˆå¤§çš„åŠ¨åŠ›ã€‚

å†æ¬¡ï¼Œæˆ‘è¦æ„Ÿè°¢å¼€æºç¤¾åŒºçš„è´¡çŒ®è€…ä»¬ã€‚æœ¬é¡¹ç›®ä½¿ç”¨äº†Flaskã€Vue.jsã€Element Plusç­‰å¼€æºæ¡†æ¶å’Œç»„ä»¶ï¼Œè¿™äº›ä¼˜ç§€çš„å¼€æºé¡¹ç›®å¤§å¤§æé«˜äº†æˆ‘çš„å¼€å‘æ•ˆç‡ã€‚

æœ€åï¼Œæˆ‘è¦æ„Ÿè°¢æˆ‘çš„å®¶äººã€‚ä»–ä»¬ä¸€ç›´ä»¥æ¥çš„æ”¯æŒå’Œç†è§£ï¼Œæ˜¯æˆ‘å®Œæˆå­¦ä¸šçš„åšå¼ºåç›¾ã€‚

åœ¨æ­¤ï¼Œå‘æ‰€æœ‰å¸®åŠ©è¿‡æˆ‘çš„äººè¡¨ç¤ºæœ€è¯šæŒšçš„è°¢æ„ï¼


å‚è€ƒæ–‡çŒ®

[1] ä¾¯ç³ç¦. ç¾å›½ç½‘ç»œéŸ³ä¹å‘å±•ç°çŠ¶åˆ†æ[J]. åŒ—äº¬é‚®ç”µå¤§å­¦å­¦æŠ¥(ç¤¾ä¼šç§‘å­¦ç‰ˆ),2008(01):24-26+31.

[2] èƒ¡æ–Œ. æµè¡ŒéŸ³ä¹ç½‘ç«™å‘å±•ç°çŠ¶åˆ†æ[J]. ä¸­å›½ç§‘æŠ€ä¿¡æ¯,2006(05):324.

[3] å†¼è¿œæ¸…,å¼ æ—­æ–°.åŸºäºDjangoçš„å›¾ä¹¦æ¨èç³»ç»Ÿè®¾è®¡[J].ç”µå­æŠ€æœ¯ä¸è½¯ä»¶å·¥ç¨‹,2022(05):216-219.

[4] ç™½ç›¸è¾°. åŸºäºDjangoæ¡†æ¶çš„Webåœ¨çº¿æ•™è‚²å¹³å°çš„è®¾è®¡ä¸å®ç°[D].åŒ—äº¬äº¤é€šå¤§å­¦,2019.

[5] éŸ©è¿çº¢.åŸºäºHTML5æŠ€æœ¯çš„ç§»åŠ¨Webå‰ç«¯è®¾è®¡ä¸å¼€å‘[J].ç”µå­æŠ€æœ¯ä¸è½¯ä»¶å·¥ç¨‹,2021(22):55-57.

[6] ç§¦ç§‹æ»¢.åŸºäºCSSæŠ€æœ¯çš„ç½‘é¡µè®¾è®¡åº”ç”¨ç ”ç©¶[J].ç”µå­ä¸–ç•Œ,2020(06):194-195.

[7] è‚–è•¾,åˆ˜å¨,é»„æ…§æ˜.å¤šåœºæ™¯ç¯å¢ƒç›‘æµ‹ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°[J].ä¿¡æ¯æŠ€æœ¯,2019,43(06):96-100+105.

[8] åˆ˜å¿ å¹³. å¡‘æ–™è¡Œä¸šç”µå­å•†åŠ¡ä¸€ä½“åŒ–æœåŠ¡å¹³å°çš„è®¾è®¡ä¸å®ç°[D].å¤©æ´¥å¤§å­¦,2012.

[9] é«˜å½¦åˆš. åŸºäºSSHæ¡†æ¶çš„é™•è¥¿çœçœç›´æœºå…³åå‹¤ç»¼åˆæœåŠ¡å¹³å°è®¾è®¡ä¸å®ç°[D].è¥¿å®‰ç”µå­ç§‘æŠ€å¤§å­¦,2015.

[10] é¡¾èŒ—æ€æ‡¿,ç‹ä¼šé²œ.åŸºäºVue+Spring Bootæ ¡å›­æ±‚èŒå­¦ä¹ å¹³å°çš„è®¾è®¡ä¸å®ç°[J].ç”µè„‘çŸ¥è¯†ä¸æŠ€æœ¯,2020,16(33):94-96.

[11] Miguel Grinberg. Flask Web Development: Developing Web Applications with Python[M]. O'Reilly Media, 2018.

[12] Evan You. Vue.js: Up and Running[M]. O'Reilly Media, 2018.

[13] æåˆš. Python+Flask Webå¼€å‘å®æˆ˜[M]. ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾, 2020.

[14] æ¢ç. Vue.jså®æˆ˜[M]. æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾, 2017.

[15] ç‹çŠ, è¨å¸ˆç…Š. æ•°æ®åº“ç³»ç»Ÿæ¦‚è®º(ç¬¬5ç‰ˆ)[M]. é«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾, 2014.

[16] Roger S.Pressman. Software Engineering A Practitioner's Approach[M]. McGraw-Hill Education, 2014.

[17] Paul C.Jorgensen. Software Testing A Craftsman's Approach[M]. CRC Press, 2013.

[18] å¼ æµ·è—©. è½¯ä»¶å·¥ç¨‹å¯¼è®º(ç¬¬6ç‰ˆ)[M]. æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾, 2013.

[19] éƒ‘äººæ°, é©¬ç´ éœ, æ®·äººæ˜†. è½¯ä»¶å·¥ç¨‹æ¦‚è®º(ç¬¬2ç‰ˆ)[M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2016.

[20] å‘¨å¿—æ˜. æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº[M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2019.


é™„å½•A ç³»ç»Ÿéƒ¨åˆ†æ ¸å¿ƒä»£ç 

A.1 åç«¯æ ¸å¿ƒä»£ç 

A.1.1 æ­Œæ›²ç®¡ç†ç›¸å…³ä»£ç 

```python
# æ­Œæ›²åˆ—è¡¨æŸ¥è¯¢
@app.route("/api/songs", methods=["GET"])
def list_songs():
    keyword = request.args.get("keyword", "").strip()
    genre = request.args.get("genre", "").strip()
    tag = request.args.get("tag", "").strip()
    query = Song.query
    if keyword:
        like = f"%{keyword}%"
        query = query.filter(db.or_(
            Song.title.like(like), 
            Song.artist.like(like), 
            Song.tags.like(like)
        ))
    if genre:
        query = query.filter(Song.genre.like(f"%{genre}%"))
    if tag:
        query = query.filter(db.or_(
            Song.tags.like(f"%{tag}%"), 
            Song.genre.like(f"%{tag}%")
        ))
    songs = query.order_by(Song.created_at.desc()).all()
    base_url = request.host_url.strip("/")
    return jsonify([song_to_dict(s, base_url) for s in songs])


# æ­Œæ›²è¯¦æƒ…æŸ¥è¯¢
@app.route("/api/songs/<int:song_id>", methods=["GET"])
def get_song_detail(song_id):
    song = Song.query.get_or_404(song_id)
    base_url = request.host_url.strip("/")
    data = song_to_dict(song, base_url)
    return jsonify(data)


# æ­Œæ›²ä¸Šä¼ 
@app.route("/api/songs", methods=["POST"])
def upload_song():
    title = request.form.get("title")
    artist = request.form.get("artist")
    album = request.form.get("album")
    genre = request.form.get("genre")
    tags = request.form.get("tags")
    file = request.files.get("file")
    if not file or not title:
        return jsonify({"msg": "title and file required"}), 400
    filename = file.filename
    save_path = os.path.join(UPLOAD_FOLDER, filename)
    file.save(save_path)
    duration = get_audio_duration(save_path)
    song = Song(
        title=title, 
        artist=artist, 
        album=album, 
        duration=duration, 
        genre=genre, 
        tags=tags, 
        file_path=save_path
    )
    db.session.add(song)
    db.session.commit()
    base_url = request.host_url.strip("/")
    return jsonify({"msg": "upload success", "song": song_to_dict(song, base_url)})


# ç®¡ç†å‘˜åˆ é™¤æ­Œæ›²
@app.route("/api/admin/songs/<int:song_id>", methods=["DELETE"])
def admin_delete_song(song_id):
    auth_resp = require_admin()
    if auth_resp is not None:
        return auth_resp
    song = Song.query.get_or_404(song_id)
    try:
        # åˆ é™¤æ‰€æœ‰å…³è”è®°å½•
        Favorite.query.filter_by(song_id=song_id).delete()
        Comment.query.filter_by(song_id=song_id).delete()
        PlayHistory.query.filter_by(song_id=song_id).delete()
        SongLike.query.filter_by(song_id=song_id).delete()
        PlaylistSong.query.filter_by(song_id=song_id).delete()
        # åˆ é™¤éŸ³é¢‘æ–‡ä»¶
        if song.file_path and os.path.exists(song.file_path):
            os.remove(song.file_path)
        # åˆ é™¤å°é¢æ–‡ä»¶
        if song.cover_path and os.path.exists(song.cover_path):
            os.remove(song.cover_path)
        db.session.delete(song)
        db.session.commit()
        return jsonify({"msg": "deleted"})
    except Exception as e:
        db.session.rollback()
        return jsonify({"msg": f"åˆ é™¤å¤±è´¥: {str(e)}"}), 500
```

A.1.2 æ”¶è—ä¸æ­Œå•ç›¸å…³ä»£ç 

```python
# æ”¶è—/å–æ¶ˆæ”¶è—
@app.route("/api/songs/<int:song_id>/favorite", methods=["POST"])
def toggle_favorite(song_id):
    data = request.json
    user_id = data.get("user_id")
    if not user_id:
        return jsonify({"msg": "user_id required"}), 400
    fav = Favorite.query.filter_by(song_id=song_id, user_id=user_id).first()
    if fav:
        db.session.delete(fav)
        db.session.commit()
        return jsonify({"msg": "unfavorited"})
    else:
        fav = Favorite(song_id=song_id, user_id=user_id)
        db.session.add(fav)
        db.session.commit()
        return jsonify({"msg": "favorited"})


# è·å–ç”¨æˆ·æ”¶è—åˆ—è¡¨
@app.route("/api/users/<int:user_id>/favorites", methods=["GET"])
def list_favorites(user_id):
    base_url = request.host_url.strip("/")
    favs = Favorite.query.filter_by(user_id=user_id).all()
    song_ids = [f.song_id for f in favs]
    if not song_ids:
        return jsonify([])
    songs = Song.query.filter(Song.id.in_(song_ids)).all()
    return jsonify([song_to_dict(s, base_url) for s in songs])


# åˆ›å»ºæ­Œå•
@app.route("/api/playlists", methods=["POST"])
def create_playlist():
    data = request.json
    user_id = data.get("user_id")
    name = data.get("name")
    description = data.get("description", "")
    if not user_id or not name:
        return jsonify({"msg": "user_id and name required"}), 400
    playlist = Playlist(
        user_id=user_id, 
        name=name, 
        description=description
    )
    db.session.add(playlist)
    db.session.commit()
    return jsonify({"msg": "playlist created", "playlist_id": playlist.id})


# æ·»åŠ æ­Œæ›²åˆ°æ­Œå•
@app.route("/api/playlists/<int:playlist_id>/songs", methods=["POST"])
def add_song_to_playlist(playlist_id):
    data = request.json
    song_id = data.get("song_id")
    if not song_id:
        return jsonify({"msg": "song_id required"}), 400
    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
    existing = PlaylistSong.query.filter_by(
        playlist_id=playlist_id, 
        song_id=song_id
    ).first()
    if existing:
        return jsonify({"msg": "song already in playlist"}), 400
    ps = PlaylistSong(playlist_id=playlist_id, song_id=song_id)
    db.session.add(ps)
    db.session.commit()
    return jsonify({"msg": "song added to playlist"})
```

A.1.3 æ’­æ”¾å†å²ç›¸å…³ä»£ç 

```python
# è®°å½•æ’­æ”¾å†å²
@app.route("/api/play-history", methods=["POST"])
def record_play_history():
    data = request.json
    user_id = data.get("user_id")
    song_id = data.get("song_id")
    progress = data.get("progress", 0)
    if not user_id or not song_id:
        return jsonify({"msg": "user_id and song_id required"}), 400
    # æ›´æ–°æˆ–åˆ›å»ºæ’­æ”¾è®°å½•
    history = PlayHistory.query.filter_by(
        user_id=user_id, 
        song_id=song_id
    ).first()
    if history:
        history.play_progress = progress
        history.played_at = datetime.utcnow()
    else:
        history = PlayHistory(
            user_id=user_id, 
            song_id=song_id, 
            play_progress=progress
        )
        db.session.add(history)
    # æ›´æ–°æ­Œæ›²æ’­æ”¾æ¬¡æ•°
    song = Song.query.get(song_id)
    if song:
        song.play_count = (song.play_count or 0) + 1
    db.session.commit()
    return jsonify({"msg": "history recorded"})


# è·å–æ’­æ”¾å†å²
@app.route("/api/users/<int:user_id>/play-history", methods=["GET"])
def get_play_history(user_id):
    limit = request.args.get("limit", 50, type=int)
    histories = PlayHistory.query.filter_by(user_id=user_id)\
        .order_by(PlayHistory.played_at.desc())\
        .limit(limit).all()
    base_url = request.host_url.strip("/")
    result = []
    for h in histories:
        song = Song.query.get(h.song_id)
        if song:
            song_data = song_to_dict(song, base_url)
            song_data["played_at"] = h.played_at.isoformat()
            song_data["play_progress"] = h.play_progress
            result.append(song_data)
    return jsonify(result)


# æ¸…é™¤æ’­æ”¾å†å²
@app.route("/api/users/<int:user_id>/play-history", methods=["DELETE"])
def clear_play_history(user_id):
    PlayHistory.query.filter_by(user_id=user_id).delete()
    db.session.commit()
    return jsonify({"msg": "history cleared"})
```

A.2 å‰ç«¯æ ¸å¿ƒä»£ç 

A.2.1 APIè¯·æ±‚å°è£…

```javascript
// api/index.js
import axios from 'axios';

const api = axios.create({
  baseURL: 'http://127.0.0.1:5000/api',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json'
  }
});

// è¯·æ±‚æ‹¦æˆªå™¨
api.interceptors.request.use(
  config => {
    const userId = localStorage.getItem('user_id');
    if (userId) {
      config.headers['X-User-Id'] = userId;
    }
    return config;
  },
  error => {
    return Promise.reject(error);
  }
);

// å“åº”æ‹¦æˆªå™¨
api.interceptors.response.use(
  response => {
    return response;
  },
  error => {
    if (error.response) {
      switch (error.response.status) {
        case 401:
          // æœªæˆæƒï¼Œè·³è½¬ç™»å½•
          window.location.href = '/login';
          break;
        case 403:
          // ç¦æ­¢è®¿é—®
          console.error('æ²¡æœ‰æƒé™è®¿é—®');
          break;
        case 404:
          // èµ„æºä¸å­˜åœ¨
          console.error('è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨');
          break;
        case 500:
          // æœåŠ¡å™¨é”™è¯¯
          console.error('æœåŠ¡å™¨é”™è¯¯');
          break;
      }
    }
    return Promise.reject(error);
  }
);

export default api;
```

A.2.2 è·¯ç”±é…ç½®

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router';

const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('../views/Home.vue')
  },
  {
    path: '/login',
    name: 'Login',
    component: () => import('../views/Login.vue')
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('../views/Register.vue')
  },
  {
    path: '/songs/:id',
    name: 'SongDetail',
    component: () => import('../views/SongDetail.vue')
  },
  {
    path: '/favorites',
    name: 'Favorites',
    component: () => import('../views/Favorites.vue'),
    meta: { requiresAuth: true }
  },
  {
    path: '/playlists',
    name: 'Playlists',
    component: () => import('../views/Playlists.vue'),
    meta: { requiresAuth: true }
  },
  {
    path: '/history',
    name: 'PlayHistory',
    component: () => import('../views/PlayHistory.vue'),
    meta: { requiresAuth: true }
  },
  {
    path: '/profile',
    name: 'Profile',
    component: () => import('../views/Profile.vue'),
    meta: { requiresAuth: true }
  },
  {
    path: '/admin/songs',
    name: 'AdminSongs',
    component: () => import('../views/admin/AdminSongs.vue'),
    meta: { requiresAuth: true, requiresAdmin: true }
  },
  {
    path: '/admin/users',
    name: 'AdminUsers',
    component: () => import('../views/admin/AdminUsers.vue'),
    meta: { requiresAuth: true, requiresAdmin: true }
  },
  {
    path: '/admin/announcements',
    name: 'AdminAnnouncements',
    component: () => import('../views/admin/AdminAnnouncements.vue'),
    meta: { requiresAuth: true, requiresAdmin: true }
  }
];

const router = createRouter({
  history: createWebHistory(),
  routes
});

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const userId = localStorage.getItem('user_id');
  const isAdmin = localStorage.getItem('is_admin') === '1';
  
  if (to.meta.requiresAuth && !userId) {
    next('/login');
  } else if (to.meta.requiresAdmin && !isAdmin) {
    next('/');
  } else {
    next();
  }
});

export default router;
```

A.2.3 æ’­æ”¾å™¨ç»„ä»¶æ ¸å¿ƒä»£ç 

```vue
<!-- å…¨å±€æ’­æ”¾å™¨ç»„ä»¶ -->
<template>
  <div v-if="playerState.currentSong" class="global-player">
    <div class="player-left" @click="goToSongDetail">
      <div class="song-cover" :class="{ spinning: playerState.isPlaying }">
        <img v-if="playerState.currentSong.cover_url" 
             :src="playerState.currentSong.cover_url" 
             alt="å°é¢" />
        <span v-else class="cover-icon">â™ª</span>
      </div>
      <div class="song-meta">
        <div class="song-title">{{ playerState.currentSong.title }}</div>
        <div class="song-artist">{{ playerState.currentSong.artist }}</div>
      </div>
    </div>
    
    <div class="player-center">
      <div class="player-controls">
        <button @click="handlePrev" title="ä¸Šä¸€é¦–">â®</button>
        <button @click="togglePlay">
          {{ playerState.isPlaying ? 'â¸' : 'â–¶' }}
        </button>
        <button @click="handleNext" title="ä¸‹ä¸€é¦–">â­</button>
      </div>
      <div class="progress-wrapper">
        <span>{{ formatDuration(playerState.currentTime) }}</span>
        <input type="range" 
               :value="playerState.currentTime"
               :max="playerState.duration"
               @input="onSeek" />
        <span>{{ formatDuration(playerState.duration) }}</span>
      </div>
    </div>

    <div class="player-right">
      <button @click="handleToggleMode">{{ playModeIcon }}</button>
      <button @click="handleToggleFavorite" 
              :class="{ active: isFavorited }">â¤</button>
      <div class="volume-control">
        <button @click="toggleMute">ğŸ”Š</button>
        <input type="range" 
               min="0" max="1" step="0.01"
               :value="playerState.volume"
               @input="onVolumeChange" />
      </div>
    </div>

    <audio ref="audioRef"
           :src="playerState.currentSong.play_url"
           @timeupdate="onTimeUpdate"
           @loadedmetadata="onMetadataLoaded"
           @ended="onEnded">
    </audio>
  </div>
</template>

<script setup>
import { ref, computed, watch } from 'vue';
import { playerState, playPrev, playNext, togglePlayMode } from '../stores/player';

const audioRef = ref(null);
const isFavorited = ref(false);

const togglePlay = () => {
  if (audioRef.value) {
    if (playerState.isPlaying) {
      audioRef.value.pause();
    } else {
      audioRef.value.play();
    }
  }
};

const onTimeUpdate = () => {
  if (audioRef.value) {
    playerState.currentTime = audioRef.value.currentTime;
  }
};

const onSeek = (e) => {
  if (audioRef.value) {
    audioRef.value.currentTime = e.target.value;
  }
};

const onVolumeChange = (e) => {
  playerState.volume = parseFloat(e.target.value);
  if (audioRef.value) {
    audioRef.value.volume = playerState.volume;
  }
};

watch(() => playerState.currentSong, (newSong) => {
  if (newSong && audioRef.value) {
    audioRef.value.load();
    audioRef.value.play();
  }
});
</script>
```


é™„å½•B ç³»ç»Ÿè¿è¡Œæˆªå›¾è¯´æ˜

B.1 ç™»å½•é¡µé¢
ç™»å½•é¡µé¢é‡‡ç”¨å·¦å³åˆ†æ å¸ƒå±€ï¼Œå·¦ä¾§ä¸ºå“ç‰Œå±•ç¤ºåŒºï¼Œæ˜¾ç¤ºç³»ç»ŸLogo"éŸ³ä¹é¦†"å’Œæ ‡è¯­"å‘ç°éŸ³ä¹ï¼Œåˆ†äº«å¿«ä¹"ï¼ŒèƒŒæ™¯é‡‡ç”¨æ·±é’è‰²æ°´å¢¨é£æ ¼è®¾è®¡ï¼Œä¸­å¤®æœ‰é»‘èƒ¶å”±ç‰‡æ ·å¼çš„å›¾æ ‡ã€‚å³ä¾§ä¸ºç™»å½•è¡¨å•åŒºï¼ŒåŒ…å«ç”¨æˆ·åè¾“å…¥æ¡†ã€å¯†ç è¾“å…¥æ¡†å’Œç™»å½•æŒ‰é’®ï¼Œåº•éƒ¨æœ‰"ç«‹å³æ³¨å†Œ"é“¾æ¥ã€‚

B.2 é¦–é¡µ
é¦–é¡µé¡¶éƒ¨ä¸ºå¯¼èˆªæ ï¼ŒåŒ…å«Logoã€å¯¼èˆªèœå•ï¼ˆé¦–é¡µã€æˆ‘çš„æ”¶è—ã€æˆ‘çš„æ­Œå•ã€æ’­æ”¾å†å²ã€ä¸ªäººä¸­å¿ƒç­‰ï¼‰ã€æœç´¢æ¡†å’Œç”¨æˆ·ä¿¡æ¯ã€‚ä¸»ä½“åŒºåŸŸåˆ†ä¸ºå¤šä¸ªæ¿å—ï¼šå…¬å‘ŠåŒºåŸŸã€ä¸ºä½ æ¨èï¼ˆå±•ç¤ºAIæ¨èçš„æ­Œæ›²å¡ç‰‡ï¼‰ã€æœ€æ–°ä¸Šä¼ ï¼ˆæ­Œæ›²åˆ—è¡¨ï¼‰ã€åˆ†ç±»æµè§ˆï¼ˆæŒ‰æµæ´¾ã€è¯­ç§ç­›é€‰ï¼‰ã€æ’è¡Œæ¦œç­‰ã€‚

B.3 æ­Œæ›²è¯¦æƒ…é¡µ
æ­Œæ›²è¯¦æƒ…é¡µå·¦ä¾§æ˜¾ç¤ºæ­Œæ›²å°é¢å¤§å›¾ï¼Œå³ä¾§æ˜¾ç¤ºæ­Œæ›²ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æ­Œæ‰‹ã€ä¸“è¾‘ã€æµæ´¾ã€å‘è¡Œæ—¥æœŸç­‰ï¼‰å’Œæ“ä½œæŒ‰é’®ï¼ˆæ’­æ”¾ã€æ”¶è—ã€æ·»åŠ åˆ°æ­Œå•ã€ä¸‹è½½ï¼‰ã€‚ä¸‹æ–¹æ˜¾ç¤ºæ­Œè¯å†…å®¹å’Œè¯„è®ºåŒºåŸŸã€‚

B.4 æ’­æ”¾å™¨
å…¨å±€æ’­æ”¾å™¨å›ºå®šåœ¨é¡µé¢åº•éƒ¨ï¼Œå·¦ä¾§æ˜¾ç¤ºå½“å‰æ’­æ”¾æ­Œæ›²çš„å°é¢ï¼ˆé»‘èƒ¶å”±ç‰‡æ ·å¼ï¼Œæ’­æ”¾æ—¶æ—‹è½¬ï¼‰å’Œæ­Œæ›²ä¿¡æ¯ï¼Œä¸­é—´ä¸ºæ’­æ”¾æ§åˆ¶åŒºï¼ˆä¸Šä¸€é¦–ã€æ’­æ”¾/æš‚åœã€ä¸‹ä¸€é¦–ã€è¿›åº¦æ¡ï¼‰ï¼Œå³ä¾§ä¸ºåŠŸèƒ½æŒ‰é’®ï¼ˆæ’­æ”¾æ¨¡å¼ã€æ”¶è—ã€æ·»åŠ åˆ°æ­Œå•ã€ä¸‹è½½ã€éŸ³é‡æ§åˆ¶ï¼‰ã€‚

B.5 ç®¡ç†å‘˜åå°
ç®¡ç†å‘˜åå°åŒ…å«æ­Œæ›²ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€å…¬å‘Šç®¡ç†ä¸‰ä¸ªé¡µé¢ã€‚æ­Œæ›²ç®¡ç†é¡µé¢ä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºæ‰€æœ‰æ­Œæ›²ï¼Œæ”¯æŒæœç´¢ã€æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤æ“ä½œã€‚ç”¨æˆ·ç®¡ç†é¡µé¢å±•ç¤ºæ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œæ”¯æŒç¼–è¾‘å’Œåˆ é™¤ã€‚å…¬å‘Šç®¡ç†é¡µé¢å±•ç¤ºæ‰€æœ‰å…¬å‘Šï¼Œæ”¯æŒå‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤å’Œå¯ç”¨/ç¦ç”¨æ“ä½œã€‚


é™„å½•C æ•°æ®åº“SQLè„šæœ¬

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS music_db 
DEFAULT CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

USE music_db;

-- ç”¨æˆ·è¡¨
CREATE TABLE IF NOT EXISTS user (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(80) NOT NULL UNIQUE,
    password VARCHAR(128) NOT NULL,
    is_admin BOOLEAN DEFAULT FALSE,
    avatar_path VARCHAR(300),
    gender VARCHAR(10),
    birthday VARCHAR(20),
    region VARCHAR(100),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- æ­Œæ›²è¡¨
CREATE TABLE IF NOT EXISTS song (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    artist VARCHAR(200),
    album VARCHAR(200),
    duration INT,
    genre VARCHAR(100),
    tags VARCHAR(200),
    lyrics TEXT,
    cover_path VARCHAR(300),
    file_path VARCHAR(300) NOT NULL,
    play_count INT DEFAULT 0,
    like_count INT DEFAULT 0,
    release_date VARCHAR(20),
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- æ”¶è—è¡¨
CREATE TABLE IF NOT EXISTS favorite (
    id INT AUTO_INCREMENT PRIMARY KEY,
    song_id INT,
    user_id INT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (song_id) REFERENCES song(id),
    FOREIGN KEY (user_id) REFERENCES user(id)
);

-- æ­Œå•è¡¨
CREATE TABLE IF NOT EXISTS playlist (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    name VARCHAR(200) NOT NULL,
    description TEXT,
    cover_path VARCHAR(300),
    is_public BOOLEAN DEFAULT TRUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(id)
);

-- æ­Œå•æ­Œæ›²å…³è”è¡¨
CREATE TABLE IF NOT EXISTS playlist_song (
    id INT AUTO_INCREMENT PRIMARY KEY,
    playlist_id INT,
    song_id INT,
    added_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (playlist_id) REFERENCES playlist(id),
    FOREIGN KEY (song_id) REFERENCES song(id)
);

-- æ’­æ”¾å†å²è¡¨
CREATE TABLE IF NOT EXISTS play_history (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    song_id INT,
    play_progress INT DEFAULT 0,
    played_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (song_id) REFERENCES song(id)
);

-- è¯„è®ºè¡¨
CREATE TABLE IF NOT EXISTS comment (
    id INT AUTO_INCREMENT PRIMARY KEY,
    song_id INT,
    user_id INT,
    parent_id INT NULL,
    content TEXT NOT NULL,
    location VARCHAR(50) NULL,
    ip_address VARCHAR(50) NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (song_id) REFERENCES song(id),
    FOREIGN KEY (user_id) REFERENCES user(id),
    FOREIGN KEY (parent_id) REFERENCES comment(id)
);

-- è¯„è®ºç‚¹èµè¡¨
CREATE TABLE IF NOT EXISTS comment_like (
    id INT AUTO_INCREMENT PRIMARY KEY,
    comment_id INT NOT NULL,
    user_id INT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (comment_id) REFERENCES comment(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES user(id) ON DELETE CASCADE,
    UNIQUE KEY unique_comment_like (comment_id, user_id)
);

-- å…¬å‘Šè¡¨
CREATE TABLE IF NOT EXISTS announcement (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    expire_at DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_song_title ON song(title);
CREATE INDEX idx_song_artist ON song(artist);
CREATE INDEX idx_song_genre ON song(genre);
CREATE INDEX idx_favorite_user ON favorite(user_id);
CREATE INDEX idx_playlist_user ON playlist(user_id);
CREATE INDEX idx_history_user ON play_history(user_id);
CREATE INDEX idx_comment_song ON comment(song_id);

-- æ’å…¥ç®¡ç†å‘˜è´¦å·
INSERT INTO user (username, password, is_admin) 
VALUES ('admin', 'admin123', TRUE);
```

ä»¥ä¸Šä¸ºæœ¬ç³»ç»Ÿçš„å®Œæ•´æ¯•ä¸šè®ºæ–‡å†…å®¹ï¼ŒåŒ…æ‹¬ç³»ç»Ÿåˆ†æã€è®¾è®¡ã€å®ç°ã€æµ‹è¯•ç­‰å„ä¸ªç¯èŠ‚çš„è¯¦ç»†è¯´æ˜ï¼Œä»¥åŠæ ¸å¿ƒä»£ç å’Œæ•°æ®åº“è„šæœ¬ç­‰é™„å½•å†…å®¹ã€‚
